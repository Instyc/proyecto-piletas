(this.webpackJsonppiletas=this.webpackJsonppiletas||[]).push([[0],{120:function(e,a,t){},121:function(e,a,t){},150:function(e,a,t){"use strict";t.r(a);var n=t(2),i=t(0),c=t.n(i),o=t(13),r=t.n(o),s=(t(120),t(8)),l=(t(121),t(205)),d=t(206),j=t(190),b=t(76),u=t(153),m=t(189),x=t(50),h=t(19),p=t(23),O=t.n(p),g=t(152),f=t(216),v=t(185),y=t(186),S=t(187),C=t(188),w=t(193),N=t(194),k=t(215),D=t(218),A=t(220),z=t(210),I=t(221),B=t(192),F=t(222),T=t(213),L=t(212),E=t(182),q=Object(E.a)((function(e){return{mostrarFlex:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",padding:10},fondo:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",padding:10,minHeight:"calc(100vh - 130px)",margin:"auto"},fondo2:{display:"flex",justifyContent:"center",flexWrap:"wrap",alignItems:"center",minHeight:"calc(100vh - 130px)",maxWidth:"1000px"},margenArriba:{marginTop:10},padding:{padding:20},padding2:{padding:10},filaPublicacion:{padding:10,marginTop:10,background:"rgba(214, 215, 204, 100)"},imagenPublicacion:{borderRadius:"6px",objectFit:"cover",border:"1px solid #000",width:170,height:170,margin:"auto",marginBottom:15,marginTop:15},gridRegistro:{maxWidth:550,padding:20,marginBottom:10},inputAncho:{width:"100%"},papelFondo:{border:"1px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),backgroundColor:"#d7d6d9"},pantallaMedia:{padding:"10px",maxWidth:1e3,minWidth:300},botonFijo:{display:"scroll",position:"fixed",left:"50%",top:"calc(100% - 80px)",transform:"translate(-50%, -50%)",zIndex:100},button:{textTransform:"none"},margenAuto:{margin:"auto"},reporte:{padding:10,marginTop:10},botonesNav:{textDecoration:"none",color:e.palette.secondary.main,display:"inline","@media (max-width:1075px)":{display:"none"}},EstiloMovil:{display:"none","@media (max-width:600px)":{display:"inline"}},EstiloPC:{display:"block","@media (max-width:600px)":{display:"none"}},EstiloLink:{textDecoration:"none",color:e.palette.secondary.contrastText},EstiloVacio:{},Categoria:{width:100,height:100,padding:0,margin:"auto",paddingTop:20},BotonSolicitar:{display:"inline","@media (max-width:1075px)":{display:"none"},position:"absolute",left:"90%",top:"35px",transform:"translate(-70%, -50%)",zIndex:1e3,width:"195px"},BotonSolicitarMovil:{display:"none","@media (max-width:1075px)":{display:"inline"},position:"absolute",left:"90%",top:"35px",transform:"translate(-70%, -50%)",zIndex:1e3}}}));function W(e){var a=e.funcionAceptar,t=e.mensaje,c=Object(i.useState)(!0),o=Object(s.a)(c,2),r=o[0],l=o[1],d=function(e){a(!1),l(!1)};return Object(n.jsx)("div",{children:Object(n.jsxs)(f.a,{open:r,onClose:function(){d()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(v.a,{id:"alert-dialog-title",children:"Reserva no realizada"}),Object(n.jsx)(y.a,{children:Object(n.jsx)(S.a,{id:"alert-dialog-description",children:t})}),Object(n.jsx)(C.a,{children:Object(n.jsx)(m.a,{onClick:function(){d()},variant:"contained",style:{background:"lightgreen"},autoFocus:!0,children:"Aceptar"})})]})})}var P=t(217);function M(e){return Object(n.jsx)(L.a,Object(h.a)({elevation:6,variant:"filled"},e))}function Y(e){var a=e.mensaje,t=e.setabrir,i=e.abrir,c=function(e,a){"clickaway"!==a&&t(!1)};return Object(n.jsx)("div",{children:Object(n.jsx)(j.a,{container:!0,children:Object(n.jsx)(P.a,{open:i,autoHideDuration:4e3,onClose:c,children:Object(n.jsx)(M,{onClose:c,severity:"success",children:a})})})})}function J(e){var a=e.ruta,t=Object(i.useState)(!1),c=Object(s.a)(t,2),o=c[0],r=c[1];return o?Object(n.jsx)(U,{setsiguiente:r,ruta:a}):Object(n.jsx)(H,{setsiguiente:r})}var H=function(e){var a=e.setsiguiente,t=q();return Object(n.jsx)("div",{className:t.fondo,children:Object(n.jsx)(g.a,{elevation:3,style:{padding:"20px",background:"lightblue",maxWidth:"1600px"},className:"Fondo",children:Object(n.jsxs)(j.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:1,children:[Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{variant:"h4",component:"h1",align:"center",children:"Condiciones para realizar una reserva para las piletas"})}),Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsxs)("ul",{style:{textAlign:"left",textJustify:"auto"},children:[Object(n.jsx)("li",{children:"Para poder realizar una reserva, debe tener un domicilio real en San Bernardo que pueda ser comprobado mediante su DNI."}),Object(n.jsx)("li",{children:"Los d\xedas habilitados para asistir al complejo son de martes a domingo. El horario de apertura del complejo es de 14 a 00 hs, y el sector de las piletas cierra a las 20 hs."}),Object(n.jsx)("li",{children:"Al momento de ingresar al complejo, debe presentar su DNI y un certificado de buena salud expedido por un organismo p\xfablico."}),Object(n.jsx)("li",{children:"Luego de realizado una reserva, deber\xe1 esperar 48 horas para poder realizar otra."}),Object(n.jsx)("li",{children:"La entrada al complejo es totalmente gratuita."}),Object(n.jsx)("li",{children:"En caso de no poseer un domicilio en San Bernardo y estar vacacionando en nuestra ciudad, comunicate al correo mainardcin@gmail.com explicando tu situaci\xf3n para que te podamos ofrecer una soluci\xf3n."}),Object(n.jsx)("br",{})]})}),Object(n.jsx)(m.a,{className:t.botones,onClick:function(){a(!0)},size:"large",variant:"contained",color:"secondary",children:"Siguiente"})]})})})};function R(e){var a=e.funcionAceptar,t=e.persona,c=e.turno,o=Object(i.useState)(!0),r=Object(s.a)(o,2),l=r[0],d=r[1],j=Object(i.useState)(!1),b=Object(s.a)(j,2),u=b[0],x=b[1],h=Object(i.useState)(""===t.nombre),p=Object(s.a)(h,2),O=p[0],g=(p[1],function(e){x(!0),a(e),x(!1),d(!1)});return Object(n.jsx)("div",{children:Object(n.jsxs)(f.a,{open:l,onClose:function(){g(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(v.a,{id:"alert-dialog-title",children:O?"DNI no encontrado":"Por favor, confirme que sus datos sean correctos"}),Object(n.jsxs)(y.a,{children:[!O&&Object(n.jsxs)(S.a,{id:"alert-dialog-description",children:["Nombre: ",t.nombre,Object(n.jsx)("br",{}),"Apellido: ",t.apellido,Object(n.jsx)("br",{}),"DNI: ",t.dni,Object(n.jsx)("br",{}),"Telefono: ",t.telefono,Object(n.jsx)("br",{}),"San Bernardo"===t.domicilio?"Localidad: ":"Situaci\xf3n: ",t.domicilio,Object(n.jsx)("br",{}),"Fecha reservada: ",c.fecha,Object(n.jsx)("br",{}),"\xc1rea: ",0===c.area?"Pileta":1===c.area?"Camping":"Camping y pileta"]}),O&&Object(n.jsx)(S.a,{id:"alert-dialog-description",children:'El DNI introducido no se encuentra registrado. Por favor, ingrese todos sus datos destildando la opci\xf3n "Ya he realizado una reserva alguna vez".'})]}),Object(n.jsxs)(C.a,{children:[Object(n.jsx)(m.a,{onClick:function(){g(!1)},variant:"contained",color:"secondary",children:"Cancelar"}),Object(n.jsx)(m.a,{onClick:function(){g(!0)},variant:"contained",style:{background:"lightgreen"},disabled:O,autoFocus:!0,children:"Confirmar"}),u&&Object(n.jsx)(B.a,{})]})]})})}var U=function(e){var a=e.setsiguiente,t=e.ruta,c=(e.usuario,q()),o=Object(i.useState)(!1),r=Object(s.a)(o,2),l=r[0],d=(r[1],Object(i.useState)(!1)),u=Object(s.a)(d,2),p=u[0],f=u[1],v=Object(i.useState)(!1),y=Object(s.a)(v,2),S=y[0],C=y[1],E=Object(i.useState)(!1),P=Object(s.a)(E,2),M=P[0],J=P[1],H=Object(i.useState)(""),U=Object(s.a)(H,2),V=U[0],G=U[1],K=Object(i.useState)(!1),Q=Object(s.a)(K,2),X=Q[0],Z=Q[1],$=Object(i.useState)(-1),_=Object(s.a)($,2),ee=_[0],ae=_[1],te=Object(i.useState)(!1),ne=Object(s.a)(te,2),ie=ne[0],ce=ne[1],oe=Object(i.useState)(!1),re=Object(s.a)(oe,2),se=re[0],le=re[1],de=Object(i.useState)(""),je=Object(s.a)(de,2),be=je[0],ue=je[1],me=Object(i.useState)(!1),xe=Object(s.a)(me,2),he=xe[0],pe=xe[1],Oe=Object(i.useState)(!1),ge=Object(s.a)(Oe,2),fe=ge[0],ve=ge[1],ye=Object(i.useState)(!1),Se=Object(s.a)(ye,2),Ce=Se[0],we=Se[1],Ne=Object(i.useState)({dni:"",nombre:"",apellido:"",telefono:"",domicilio:"San Bernardo",permitido:!0}),ke=Object(s.a)(Ne,2),De=ke[0],Ae=ke[1],ze=Object(i.useState)({fecha:"",area:2,asistencia:!1,persona:null}),Ie=Object(s.a)(ze,2),Be=Ie[0],Fe=Ie[1];function Te(e){S&&C(!1),Ae(Object(h.a)(Object(h.a)({},De),{},Object(x.a)({},e.target.name,e.target.value)))}function Le(){Ae({dni:"",nombre:"",apellido:"",telefono:"",domicilio:"San Bernardo",permitido:!0}),Fe({fecha:Be.fecha,area:2,asistencia:!1,persona:null})}return Object(i.useEffect)((function(){var e=new Date,a=e.getMonth()+1;a<10&&(a="0"+a);var n=e.getDay();n<10&&(n="0"+n),ue(e.getFullYear()+"-"+a+"-"+n),Fe(Object(h.a)(Object(h.a)({},Be),{},{fecha:e.getFullYear()+"-"+a+"-"+n})),ce(!0),O.a.get(t+"/turnos/count?fecha="+e.getFullYear()+"-"+a+"-"+n).then((function(e){ae(100-e.data),ce(!1)})).catch((function(e){console.log(e.response)}))}),[]),Object(i.useEffect)((function(){S&&C(!1)}),[M]),Object(n.jsx)("div",{className:c.fondo,children:Object(n.jsxs)(g.a,{elevation:3,style:{padding:"10px",background:"lightblue"},children:[Object(n.jsx)("form",{onSubmit:function(e){e.preventDefault(),we(!0),O.a.get(t+"/personas?dni="+De.dni).then((function(e){0===e.data.length||!0===M?(M&&0!==e.data.length&&Ae({dni:e.data[0].dni,nombre:e.data[0].nombre,apellido:e.data[0].apellido,telefono:e.data[0].telefono,domicilio:e.data[0].domicilio?"San Bernardo":"Soy turista",permitido:e.data[0].permitido}),f(!0)):(C(!0),we(!1))})).catch((function(e){console.log(e.response)}))},children:Object(n.jsxs)(w.a,{color:"primary",fullWidth:!0,children:[Object(n.jsxs)(j.a,{className:c.pantallaMedia,container:!0,direction:"row",justify:"center",alignItems:"center",spacing:1,children:[Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{variant:"h3",component:"h1",align:"center",children:"Turnos de pileta"})}),Object(n.jsx)(j.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(n.jsx)(N.a,{control:Object(n.jsx)(k.a,{checked:M,onChange:function(){J(!M)},name:"checkedF",color:"primary"}),label:"Ya he realizado una reserva alguna vez"})}),Object(n.jsx)(j.a,{item:!0,lg:2,md:2,sm:12,xs:12,children:Object(n.jsx)(D.a,{onChange:Te,value:De.dni,name:"dni",className:c.inputAncho,id:"filled-basic",label:"DNI",type:"number",variant:"filled",maxLength:50,required:!0})}),!M&&Object(n.jsx)(j.a,{item:!0,lg:3,md:3,sm:12,xs:12,children:Object(n.jsx)(D.a,{onChange:Te,value:De.nombre,name:"nombre",className:c.inputAncho,id:"filled-basic",label:"Nombre",variant:"filled",maxLength:50,required:!0})}),!M&&Object(n.jsx)(j.a,{item:!0,lg:3,md:3,sm:12,xs:12,children:Object(n.jsx)(D.a,{onChange:Te,value:De.apellido,name:"apellido",className:c.inputAncho,id:"filled-basic",label:"Apellido",variant:"filled",maxLength:50,required:!0})}),!M&&Object(n.jsx)(j.a,{item:!0,lg:2,md:2,sm:12,xs:12,children:Object(n.jsx)(D.a,{onChange:Te,value:De.telefono,name:"telefono",className:c.inputAncho,id:"filled-basic",label:"N\xfamero de celular",type:"number",variant:"filled",maxLength:50})}),!M&&Object(n.jsx)(j.a,{item:!0,lg:2,md:2,sm:12,xs:12,children:Object(n.jsxs)(w.a,{className:c.inputAncho,children:[Object(n.jsx)(A.a,{id:"demo-simple-select-label",style:{margin:"7px 10px"},children:"Domicilio"}),Object(n.jsxs)(z.a,{value:De.domicilio,name:"domicilio",onChange:Te,id:"domicilio",variant:"filled",required:!0,children:[Object(n.jsx)(I.a,{value:"San Bernardo",onClick:function(){return pe(!1)},children:"San Bernardo"}),Object(n.jsx)(I.a,{value:"Soy turista",onClick:function(){return pe(!0)},children:"Soy turista"})]})]})}),he&&Object(n.jsx)(j.a,{item:!0,lg:12,md:12,sm:12,xs:12,align:"center",children:Object(n.jsx)(L.a,{variant:"filled",severity:"info",children:"Si usted no posee un domicilio en San Bernardo y se encuentra vacacionando en nuestra localidad, debe contactarse al correo mainardcin@gmail.com para terminar de gestionar su turno."})}),Object(n.jsx)(j.a,{item:!0,lg:4,md:4,sm:12,xs:12,align:"center",children:Object(n.jsx)("input",{className:c.inputAncho,onChange:function(e){Fe(Object(h.a)(Object(h.a)({},Be),{},{fecha:e.target.value})),ce(!0),1!==new Date(e.target.value).getUTCDay()?O.a.get(t+"/turnos/count?fecha="+e.target.value).then((function(e){console.log(e.data),ae(100-e.data),ce(!1)})).catch((function(e){console.log(e.response)})):(ae(-2),ce(!1))},id:"date",type:"date",min:be,required:!0,value:Be.fecha,style:{boxSizing:"border-box",padding:"0px 10px",background:"rgba(0,0,0,.1)",borderRadius:"5px",border:"none"}})}),Object(n.jsxs)(j.a,{item:!0,lg:4,md:4,sm:12,xs:12,align:"center",children:[ie&&Object(n.jsx)(B.a,{color:"secondary"}),Object(n.jsxs)(b.a,{color:"secondary",children:[" ",-1===ee?"":-2===ee?"Los d\xedas lunes no se puede reservar.":"".concat(ee," lugares disponibles")," "]})]}),Object(n.jsx)(j.a,{item:!0,lg:4,md:4,sm:12,xs:12,align:"center",children:Object(n.jsx)(w.a,{component:"fieldset",children:Object(n.jsxs)(F.a,{"aria-label":"Turno",name:"turno",value:String(Be.area),onChange:function(e){Fe(Object(h.a)(Object(h.a)({},Be),{},{area:Number(e.target.value)}))},children:[Object(n.jsx)(N.a,{value:"0",control:Object(n.jsx)(T.a,{}),label:"Pileta"}),Object(n.jsx)(N.a,{value:"1",control:Object(n.jsx)(T.a,{}),label:"Camping"}),Object(n.jsx)(N.a,{value:"2",control:Object(n.jsx)(T.a,{}),label:"Ambos"})]})})}),Object(n.jsx)("br",{}),Object(n.jsx)(b.a,{variant:"h4",component:"h4",align:"center",children:"Declaracion Jurada de S\xedntomas de COVID-19"}),Object(n.jsxs)(j.a,{item:!0,sm:12,children:[Object(n.jsx)("img",{src:"sintomas.jpg",width:"100%"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(b.a,{fontWeight:"fontWeightBold",align:"justify",children:"Si ten\xe9s dos o m\xe1s de los siguientes s\xedntomas: fiebre de 37,5\xb0C, tos, dolor de garganta, dificultad respiratoria, dolor muscular, cefalea, diarrea y/o v\xf3mitos, o si ten\xe9s solo p\xe9rdida brusca de gusto u olfato, comunicate al cel 3735604561 de 09 a 11hs y de 17 a 20 hs sin excepci\xf3n."})]}),Object(n.jsx)(N.a,{control:Object(n.jsx)(k.a,{checked:X,onChange:function(){Z(!X)},name:"tildadoCovid",required:!0}),label:"Declaro bajo juramento que no tengo s\xedntomas de COVID-19"}),Object(n.jsx)(j.a,{item:!0,xs:12,className:c.inputAncho,children:l&&Object(n.jsx)(B.a,{})}),Object(n.jsx)(j.a,{item:!0,xs:12,align:"center",style:{margin:"15px"},children:Ce&&Object(n.jsx)(B.a,{color:"secondary"})}),Object(n.jsx)(j.a,{item:!0,xs:6,align:"center",children:Object(n.jsx)(m.a,{className:c.botones,onClick:function(){a(!1)},size:"large",variant:"contained",color:"secondary",children:"Atras"})}),Object(n.jsx)(j.a,{item:!0,xs:6,align:"center",children:Object(n.jsx)(m.a,{className:c.botones,disabled:l||ee<=0,type:"submit",size:"large",variant:"contained",style:{background:"lightgreen"},children:"Solicitar"})})]}),p&&Object(n.jsx)(R,{funcionAceptar:function(e){if(f(!1),e){var a="San Bernardo"===De.domicilio,n=De;n.domicilio=a,n.permitido=a,O.a.get(t+"/personas?dni="+De.dni).then((function(e){if(0===e.data.length)O.a.post(t+"/personas",n).then((function(e){we(!1);var a=Be;a.persona=e.data.id,O.a.post(t+"/turnos",a).then((function(e){ve(!0),Le(),ae(ee-1)})).catch((function(e){console.log(e.response)}))})).catch((function(e){we(!0),console.log(e.response)}));else{var a=Be;a.persona=e.data[0].id;var i=e.data[0].turnos.length-1,c=new Date(e.data[0].turnos[i].fecha+" 00:00:00"),o=Date.parse(c)+1728e5;if(o>Date.now()&&0!==e.data[0].turnos.length){if(we(!1),c<Date.now()){var r=new Date(o);G("Debido a su \xfaltimo turno expedido, puede volver a realizar una reserva el d\xeda "+r.getDay()+"/"+(r.getMonth()+1)+"/"+r.getFullYear())}else{var s=c.getDate(),l=c.getMonth()+1,d=c.getFullYear();l<10&&(l="0"+l),s<10&&(s="0"+s),G("Usted tiene un turno activo para la fecha "+"".concat(s,"-").concat(l,"-").concat(d))}le(!0)}else O.a.post(t+"/turnos",a).then((function(e){ve(!0),Le(),we(!1),ae(ee-1)})).catch((function(e){we(!1),console.log(e.response)}))}})).catch((function(e){we(!1),console.log(e.response)}))}else we(!1)},persona:De,turno:Be}),se&&Object(n.jsx)(W,{funcionAceptar:le,mensaje:V}),Object(n.jsx)(Y,{mensaje:"\xa1Turno creado exitosamente!",abrir:fe,setabrir:ve})]})}),S&&Object(n.jsx)(L.a,{variant:"filled",severity:"error",children:'El DNI ya se encuentra en uso, seleccione "Ya he realizado una reserva alguna vez" para continuar con la reserva.'})]})})},V=t(5),G=t(197),K=t(198),Q=t(199),X=t(209),Z=t(200),$=t(201),_=t(202),ee=t(203),ae=t(94),te=t.n(ae),ne=t(93),ie=t.n(ne),ce=Object(E.a)({root:{"& > *":{borderBottom:"unset"}}}),oe=Object(V.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(G.a),re=Object(V.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(K.a);function se(e){var a=e.turno,t=e.ruta,o=e.usuario,r=Object(i.useState)(!1),l=Object(s.a)(r,2),d=l[0],x=l[1],p=ce(),g=Object(i.useState)(a),f=Object(s.a)(g,2),v=f[0],y=f[1],S="Bearer "+o.jwt;return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsxs)(re,{className:p.root,children:[Object(n.jsxs)(oe,{align:"left",component:"th",scope:"row",onClick:function(){return x(!d)},children:[Object(n.jsx)(u.a,{"aria-label":"expand row",size:"small",children:d?Object(n.jsx)(ie.a,{}):Object(n.jsx)(te.a,{})}),"".concat(v.persona.apellido," ").concat(v.persona.nombre)]}),Object(n.jsx)(oe,{align:"center",children:v.persona.dni}),Object(n.jsx)(oe,{align:"center",children:Object(n.jsx)(m.a,{size:"small",variant:"contained",color:v.asistencia?"primary":"secondary",onClick:function(){var e=!v.asistencia;O.a.put(t+"/turnos/"+v.id,{asistencia:e},{headers:{Authorization:S}}).then((function(e){console.log(e.data),y(Object(h.a)(Object(h.a)({},v),{},{asistencia:!v.asistencia}))})).catch((function(e){console.log(e.response)}))},children:v.asistencia?"SI":"NO"})})]}),Object(n.jsx)(re,{children:Object(n.jsx)(oe,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(n.jsx)(Q.a,{in:d,timeout:"auto",unmountOnExit:!0,children:Object(n.jsx)(X.a,{margin:1,children:Object(n.jsxs)(j.a,{container:!0,children:[Object(n.jsx)(j.a,{item:!0,lg:4,md:4,sm:12,xs:12,align:"center",children:Object(n.jsxs)(b.a,{variant:"h6",gutterBottom:!0,component:"div",children:["Tel\xe9fono: ",""!==v.persona.telefono?v.persona.telefono:"N/A"]})}),Object(n.jsx)(j.a,{item:!0,lg:4,md:4,sm:12,xs:12,align:"center",children:Object(n.jsx)(b.a,{variant:"h6",gutterBottom:!0,component:"div",children:v.persona.domicilio?" Localidad: San Bernardo":" Situaci\xf3n: Turista"})}),Object(n.jsx)(j.a,{item:!0,lg:4,md:4,sm:12,xs:12,align:"center",children:Object(n.jsxs)(b.a,{variant:"h6",gutterBottom:!0,component:"div",children:["\xc1rea: ",0===v.persona.area?"Pileta":1===v.persona.area?"Camping":"Pileta y camping"]})})]})})})})})]})}function le(e){var a=e.ruta,t=e.usuario,c=q(),o=Object(i.useState)(""),r=Object(s.a)(o,2),l=r[0],d=r[1],j=Object(i.useState)(""),u=Object(s.a)(j,2),m=u[0],x=u[1],h=Object(i.useState)(!1),p=Object(s.a)(h,2),f=p[0],v=p[1],y=Object(i.useState)([]),S=Object(s.a)(y,2),C=S[0],w=S[1];return Object(i.useEffect)((function(){var e=new Date,t=e.getMonth()+1;t<10&&(t="0"+t);var n=e.getDay();n<10&&(n="0"+n),d(e.getFullYear()+"-"+t+"-"+n),v(!0),O.a.get(a+"/turnos?fecha="+e.getFullYear()+"-"+t+"-"+n).then((function(e){w(e.data),v(!1)})).catch((function(e){console.log(e.response)}))}),[]),Object(n.jsx)("div",{className:c.fondo2,style:{margin:"auto"},children:Object(n.jsxs)(g.a,{elevation:3,style:{width:"100%",margin:"10px auto",padding:"20px",background:"lightblue"},className:"Fondo",children:[Object(n.jsx)(b.a,{variant:"h3",component:"h1",align:"center",children:"Administrar turnos"}),Object(n.jsx)(b.a,{align:"left",children:"Seleccione una fecha:"}),Object(n.jsx)("input",{className:c.inputAncho,id:"date",type:"date",value:l,onChange:function(e){v(!0),d(e.target.value),""!==m&&x(""),1!==new Date(e.target.value).getUTCDay()?O.a.get(a+"/turnos?fecha="+e.target.value).then((function(e){console.log(e.data),w([]),w(e.data),0===e.data.length&&x("No existen reservas para el d\xeda seleccionado."),v(!1)})).catch((function(e){console.log(e.response)})):(w([]),x("Los d\xedas lunes no se pueden realizar reservas."),v(!1))},style:{boxSizing:"border-box",padding:"0px 15px",fontSize:"15px",background:"rgba(0,0,0,.1)",borderRadius:"5px",border:"none"}}),f&&Object(n.jsx)(B.a,{color:"secondary"}),""===m?Object(n.jsx)(Z.a,{component:g.a,style:{maxWidth:"1000px",margin:"10px auto"},children:Object(n.jsxs)($.a,{"aria-label":"collapsible table",children:[Object(n.jsx)(_.a,{children:Object(n.jsxs)(re,{children:[Object(n.jsx)(oe,{align:"left",children:"Apellido y nombre"}),Object(n.jsx)(oe,{align:"center",children:"DNI"}),Object(n.jsx)(oe,{align:"center",children:"Asistencia"})]})}),Object(n.jsx)(ee.a,{children:C.map((function(e,i){return Object(n.jsx)(se,{turno:e,ruta:a,usuario:t},i)}))})]})}):Object(n.jsxs)(b.a,{variant:"h4",children:[Object(n.jsx)("br",{}),m]})]})})}var de=t(204),je=t(214),be=t(15);function ue(e){var a=e.ruta,t=e.setusuario,c=q(),o=Object(be.f)(),r=Object(i.useState)(!1),l=Object(s.a)(r,2),d=(l[0],l[1]),u=Object(i.useState)(!1),p=Object(s.a)(u,2),g=p[0],f=p[1],v=Object(i.useState)(""),y=Object(s.a)(v,2),S=y[0],C=y[1],w=Object(i.useState)(!1),N=Object(s.a)(w,2),k=(N[0],N[1],Object(i.useState)({email:"",contrasena:""})),A=Object(s.a)(k,2),z=A[0],I=A[1],F=function(e){""!==S&&C("");var a=e.target.value,t=e.target.name;I(Object(h.a)(Object(h.a)({},z),{},Object(x.a)({},t,a)))};return Object(n.jsx)("div",{className:c.fondo2,style:{margin:"auto"},children:Object(n.jsx)("div",{className:"Fondo",style:{maxWidth:300},children:Object(n.jsxs)(j.a,{container:!0,direction:"row",justify:"center",spacing:2,children:[Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{variant:"h5",component:"h1",align:"center",className:c.form,children:"Iniciar Sesi\xf3n"})}),Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(D.a,{onChange:F,name:"email",value:z.email,className:c.inputAncho,id:"filled-basic",label:"Usuario/Correo electr\xf3nico",variant:"filled",required:!0})}),Object(n.jsx)(de.a,{}),Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(D.a,{onChange:F,name:"contrasena",value:z.contrasena,required:!0,type:"password",label:"Contrase\xf1a",variant:"filled",style:{marginTop:"15px"},className:c.inputAncho})}),Object(n.jsx)("div",{className:c.inputAncho,hidden:!g,children:Object(n.jsx)(B.a,{color:"secondary"})}),Object(n.jsx)(je.a,{xlDown:""===S,children:Object(n.jsx)(b.a,{color:"error",children:S})}),Object(n.jsx)(j.a,{item:!0,xs:12,align:"center",children:Object(n.jsx)(m.a,{onClick:function(){f(!0),""!==S&&C(""),""!==z.email&&""!==z.contrasena||(C("Faltan rellenar campos"),f(!1)),O.a.post(a+"/auth/local/",{identifier:z.email,password:z.contrasena}).then((function(e){console.log(e.data),t(e.data),localStorage.setItem("datosLocal",JSON.stringify({jwt:e.data.jwt,datosSesion:e.data.user})),f(!1),d(!1),o.push("/listar")})).catch((function(e){var a=JSON.parse(e.response.request.response).message[0].messages[0].id;console.log("Error: ",a),"Auth.form.error.invalid"===a&&C("Usuario/correo o contrase\xf1a incorrectos"),f(!1)}))},size:"large",variant:"contained",color:"secondary",children:"Iniciar Sesi\xf3n"})})]})})})}var me=t(51),xe=t(95),he=t.n(xe);function pe(e){var a=e.setusuario,t=e.usuario,i=(q(),Object(be.f)());return Object(n.jsx)(l.a,{position:"static",style:{backgroundColor:"#00CC66"},children:Object(n.jsxs)(d.a,{children:[Object(n.jsx)(me.b,{to:"/",style:{textDecoration:"none",color:"#393939",fontFamily:"Homework",padding:"0px 10px"},children:Object(n.jsx)("img",{src:"cotelsabe.png",width:"76px"})}),Object(n.jsx)(me.b,{to:"/",style:{textDecoration:"none",color:"#393939",fontFamily:"Homework"},children:Object(n.jsx)(b.a,{variant:"h5",children:"Complejo de piletas"})}),""!==t.jwt&&Object(n.jsx)(m.a,{startIcon:Object(n.jsx)(he.a,{}),variant:"contained",onClick:function(){localStorage.setItem("datosLocal",JSON.stringify(null)),a({jwt:"",datosSesion:{}}),void 0!==i&&i.push("/")},style:{marginLeft:"auto"},children:Object(n.jsx)(je.a,{smDown:!0,children:"Cerrar Sesion"})})]})})}var Oe=t(96),ge=t.n(Oe),fe=t(207),ve=t(208);var ye=function(){var e=q(),a="https://piletas-sb.herokuapp.com",t=Object(i.useState)(!1),c=Object(s.a)(t,2),o=c[0],r=c[1],x=Object(i.useState)({datosSesion:{},jwt:""}),h=Object(s.a)(x,2),p=h[0],O=h[1],g=Object(i.useState)(!1),f=Object(s.a)(g,2),v=f[0],y=f[1];return Object(i.useEffect)((function(){y(!0)}),[]),Object(i.useEffect)((function(){var e=localStorage.getItem("datosLocal")||null,a=JSON.parse(e);null!==a&&O(a),console.log("/proyecto-piletas")}),[]),Object(n.jsxs)("div",{className:"App",style:{height:"auto"},children:[Object(n.jsxs)(me.a,{basename:"/proyecto-piletas",children:[Object(n.jsx)(pe,{setusuario:O,usuario:p}),Object(n.jsx)(be.b,{exact:!0,path:"/",children:Object(n.jsx)(J,{ruta:a})}),Object(n.jsx)(be.b,{path:"/sesion",children:""!==p.jwt?Object(n.jsx)(be.a,{to:"/listar"}):Object(n.jsx)(ue,{ruta:a,setusuario:O})}),Object(n.jsx)(be.b,{path:"/listar",children:v&&""===p.jwt?Object(n.jsx)(be.a,{to:"/"}):Object(n.jsx)(le,{usuario:p,ruta:a})}),Object(n.jsx)(be.b,{path:"*",children:Object(n.jsx)("div",{className:e.fondo2,children:Object(n.jsx)("img",{src:"404.png"})})})]}),Object(n.jsx)(l.a,{position:"relative",bottom:"0px",style:{zIndex:0,backgroundColor:"#00CC66"},children:Object(n.jsx)(d.a,{children:Object(n.jsxs)(j.a,{container:!0,direction:"row",alignItems:"center",justify:"center",children:[Object(n.jsx)(j.a,{item:!0,xs:2,sm:2,md:2,lg:2,style:{padding:"0px 15px"},align:"right",children:Object(n.jsx)("img",{src:"munilogo.png",width:"50px"})}),Object(n.jsx)(j.a,{item:!0,xs:10,sm:10,md:4,lg:4,align:"left",children:Object(n.jsx)(b.a,{style:{color:"black"},variant:"h6",children:"Municipalidad de San Bernardo"})}),Object(n.jsxs)(j.a,{item:!0,xs:12,sm:12,md:2,lg:2,align:"center",children:[Object(n.jsx)(u.a,{size:"medium",style:{color:"black"},href:"https://www.instagram.com/municipalidad28/",children:Object(n.jsx)(fe.a,{})}),Object(n.jsx)(u.a,{size:"medium",style:{color:"black"},href:"https://www.facebook.com/MunicipioSanBernardo/",children:Object(n.jsx)(ve.a,{})})]}),Object(n.jsxs)(j.a,{item:!0,xs:12,sm:12,md:4,lg:4,align:"center",children:[Object(n.jsx)(b.a,{style:{color:"black"},children:"Ante cualquier inconveniente con el sitio contactar a:"}),Object(n.jsx)(m.a,{style:{textTransform:"lowercase"},onClick:function(){var e=document.createElement("input");e.setAttribute("value","mainardcin@gmail.com"),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),r(!0)},startIcon:Object(n.jsx)(ge.a,{}),children:"mainardcin@gmail.com"})]})]})})}),o&&Object(n.jsx)(Y,{mensaje:"Copiado al portapapeles",abrir:o,setabrir:r})]})},Se=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,224)).then((function(a){var t=a.getCLS,n=a.getFID,i=a.getFCP,c=a.getLCP,o=a.getTTFB;t(e),n(e),i(e),c(e),o(e)}))};function Ce(){return Object(n.jsx)(ye,{})}r.a.render(Object(n.jsx)(Ce,{}),document.getElementById("root")),Se()}},[[150,1,2]]]);
//# sourceMappingURL=main.9ddc7329.chunk.js.map