(this.webpackJsonppiletas=this.webpackJsonppiletas||[]).push([[0],{121:function(e,a,t){},122:function(e,a,t){},151:function(e,a,t){"use strict";t.r(a);var n=t(2),i=t(0),c=t.n(i),o=t(13),r=t.n(o),s=(t(121),t(8)),l=(t(122),t(207)),d=t(208),j=t(190),b=t(77),u=t(154),m=t(189),x=t(50),p=t(17),h=t(22),O=t.n(h),g=t(153),f=t(218),v=t(185),y=t(186),S=t(187),C=t(188),w=t(193),N=t(194),k=t(217),D=t(220),A=t(222),I=t(212),z=t(223),F=t(192),L=t(224),q=t(215),B=t(214),T=t(182),_=Object(T.a)((function(e){return{mostrarFlex:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",padding:10},fondo:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",padding:10,minHeight:"calc(100vh - 130px)",margin:"auto"},fondo2:{display:"flex",justifyContent:"center",flexWrap:"wrap",alignItems:"center",minHeight:"calc(100vh - 130px)",maxWidth:"1000px"},margenArriba:{marginTop:10},padding:{padding:20},padding2:{padding:10},filaPublicacion:{padding:10,marginTop:10,background:"rgba(214, 215, 204, 100)"},imagenPublicacion:{borderRadius:"6px",objectFit:"cover",border:"1px solid #000",width:170,height:170,margin:"auto",marginBottom:15,marginTop:15},gridRegistro:{maxWidth:550,padding:20,marginBottom:10},inputAncho:{width:"100%"},papelFondo:{border:"1px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),backgroundColor:"#d7d6d9"},pantallaMedia:{padding:"10px",maxWidth:1e3,minWidth:300},botonFijo:{display:"scroll",position:"fixed",left:"50%",top:"calc(100% - 80px)",transform:"translate(-50%, -50%)",zIndex:100},button:{textTransform:"none"},margenAuto:{margin:"auto"},reporte:{padding:10,marginTop:10},botonesNav:{textDecoration:"none",color:e.palette.secondary.main,display:"inline","@media (max-width:1075px)":{display:"none"}},EstiloMovil:{display:"none","@media (max-width:600px)":{display:"inline"}},EstiloPC:{display:"block","@media (max-width:600px)":{display:"none"}},EstiloLink:{textDecoration:"none",color:e.palette.secondary.contrastText},EstiloVacio:{},Categoria:{width:100,height:100,padding:0,margin:"auto",paddingTop:20},BotonSolicitar:{display:"inline","@media (max-width:1075px)":{display:"none"},position:"absolute",left:"90%",top:"35px",transform:"translate(-70%, -50%)",zIndex:1e3,width:"195px"},BotonSolicitarMovil:{display:"none","@media (max-width:1075px)":{display:"inline"},position:"absolute",left:"90%",top:"35px",transform:"translate(-70%, -50%)",zIndex:1e3}}}));function E(e){var a=e.funcionAceptar,t=e.mensaje,c=Object(i.useState)(!0),o=Object(s.a)(c,2),r=o[0],l=o[1],d=function(e){a(!1),l(!1)};return Object(n.jsx)("div",{children:Object(n.jsxs)(f.a,{open:r,onClose:function(){d()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(v.a,{id:"alert-dialog-title",children:"Reserva no realizada"}),Object(n.jsx)(y.a,{children:Object(n.jsx)(S.a,{id:"alert-dialog-description",children:t})}),Object(n.jsx)(C.a,{children:Object(n.jsx)(m.a,{onClick:function(){d()},variant:"contained",style:{background:"lightgreen"},autoFocus:!0,children:"Aceptar"})})]})})}var W=t(219);function P(e){return Object(n.jsx)(B.a,Object(p.a)({elevation:6,variant:"filled"},e))}function J(e){var a=e.mensaje,t=e.setabrir,i=e.abrir,c=function(e,a){"clickaway"!==a&&t(!1)};return Object(n.jsx)("div",{children:Object(n.jsx)(j.a,{container:!0,children:Object(n.jsx)(W.a,{open:i,autoHideDuration:4e3,onClose:c,children:Object(n.jsx)(P,{onClose:c,severity:"success",children:a})})})})}function M(e){var a=e.ruta,t=Object(i.useState)(!1),c=Object(s.a)(t,2),o=c[0],r=c[1];return o?Object(n.jsx)(R,{setsiguiente:r,ruta:a}):Object(n.jsx)(Y,{setsiguiente:r})}var Y=function(e){var a=e.setsiguiente,t=_();return Object(n.jsx)("div",{className:t.fondo,children:Object(n.jsx)(g.a,{elevation:3,style:{padding:"20px",background:"lightblue",maxWidth:"1600px"},className:"Fondo",children:Object(n.jsxs)(j.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:1,children:[Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{variant:"h4",component:"h1",align:"center",children:"Condiciones para realizar una reserva para las piletas"})}),Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsxs)("ul",{style:{textAlign:"left",textJustify:"auto"},children:[Object(n.jsx)("li",{children:"Los d\xedas habilitados para asistir al complejo son de martes a domingo. El horario de apertura del complejo es de 14 a 00 hs, y el sector de las piletas cierra a las 20 hs."}),Object(n.jsx)("li",{children:"Al momento de ingresar al complejo, deber\xe1s presentar tu DNI y un certificado de buena salud expedido por un organismo p\xfablico."}),Object(n.jsx)("li",{children:"Luego de realizado una reserva, deber\xe1s esperar 24 horas para poder realizar otra."}),Object(n.jsx)("li",{children:"La entrada al complejo es totalmente gratuita."}),Object(n.jsx)("li",{children:"Para poder realizar una reserva, deb\xe9s tener un domicilio real en San Bernardo que pueda ser comprobado mediante tu DNI."}),Object(n.jsx)("li",{children:"En caso de no poseer un domicilio en San Bernardo y estar vacacionando en nuestra ciudad, deber\xe1s presentar tambi\xe9n una fotocopia del documento de la persona con la que te est\xe1s alojando."}),Object(n.jsx)("li",{children:"Si realiz\xe1s una reserva 72 horas antes de asistir al complejo, deber\xe1s realizar una actualizaci\xf3n de la declaraci\xf3n jurada al momento de ingresar."}),Object(n.jsx)("br",{})]})}),Object(n.jsx)(m.a,{className:t.botones,onClick:function(){a(!0)},size:"large",variant:"contained",color:"secondary",children:"Siguiente"})]})})})};function H(e){var a=e.funcionAceptar,t=e.persona,c=e.turno,o=Object(i.useState)(!0),r=Object(s.a)(o,2),l=r[0],d=r[1],j=Object(i.useState)(!1),b=Object(s.a)(j,2),u=b[0],x=b[1],p=Object(i.useState)(""),h=Object(s.a)(p,2),O=h[0];(0,h[1])(""===t.nombre);var g=function(e){x(!0),a(e),x(!1),d(!1)};return Object(n.jsx)("div",{children:Object(n.jsxs)(f.a,{open:l,onClose:function(){g(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(v.a,{id:"alert-dialog-title",children:O?"DNI no encontrado":"Por favor, confirme que sus datos sean correctos"}),Object(n.jsxs)(y.a,{children:[!O&&Object(n.jsxs)(S.a,{id:"alert-dialog-description",children:["Nombre: ",t.nombre,Object(n.jsx)("br",{}),"Apellido: ",t.apellido,Object(n.jsx)("br",{}),"DNI: ",t.dni,Object(n.jsx)("br",{}),"Telefono: ",t.telefono,Object(n.jsx)("br",{}),t.domicilio?"Situaci\xf3n: Soy turista":"Localidad: San Bernardo",Object(n.jsx)("br",{}),"Fecha reservada: ",c.fecha,Object(n.jsx)("br",{}),"\xc1rea: ",0===c.area?"Pileta":1===c.area?"Camping":"Camping y pileta"]}),O&&Object(n.jsx)(S.a,{id:"alert-dialog-description",children:'El DNI introducido no se encuentra registrado. Por favor, ingrese todos sus datos destildando la opci\xf3n "Ya he realizado una reserva alguna vez".'})]}),Object(n.jsxs)(C.a,{children:[Object(n.jsx)(m.a,{onClick:function(){g(!1)},variant:"contained",color:"secondary",children:"Cancelar"}),Object(n.jsx)(m.a,{onClick:function(){g(!0)},variant:"contained",style:{background:"lightgreen"},disabled:O,autoFocus:!0,children:"Confirmar"}),u&&Object(n.jsx)(F.a,{})]})]})})}var R=function(e){var a=e.setsiguiente,t=e.ruta,c=(e.usuario,_()),o=Object(i.useState)(!1),r=Object(s.a)(o,2),l=r[0],d=r[1],u=Object(i.useState)(!1),h=Object(s.a)(u,2),f=h[0],v=h[1],y=Object(i.useState)(!1),S=Object(s.a)(y,2),C=S[0],T=S[1],W=Object(i.useState)(!1),P=Object(s.a)(W,2),M=P[0],Y=P[1],R=Object(i.useState)(""),U=Object(s.a)(R,2),V=U[0],X=U[1],G=Object(i.useState)(!1),K=Object(s.a)(G,2),Q=K[0],Z=K[1],$=Object(i.useState)(-1),ee=Object(s.a)($,2),ae=ee[0],te=ee[1],ne=Object(i.useState)(!1),ie=Object(s.a)(ne,2),ce=ie[0],oe=ie[1],re=Object(i.useState)(!1),se=Object(s.a)(re,2),le=se[0],de=se[1],je=Object(i.useState)(""),be=Object(s.a)(je,2),ue=be[0],me=be[1],xe=Object(i.useState)(!1),pe=Object(s.a)(xe,2),he=pe[0],Oe=pe[1],ge=Object(i.useState)(!1),fe=Object(s.a)(ge,2),ve=fe[0],ye=fe[1],Se=Object(i.useState)(!1),Ce=Object(s.a)(Se,2),we=Ce[0],Ne=Ce[1],ke=Object(i.useState)({dni:"",nombre:"",apellido:"",domicilio:!1,telefono:"",dni_alojado:"",nombre_alojado:"",apellido_alojado:"",domicilio_alojado:""}),De=Object(s.a)(ke,2),Ae=De[0],Ie=De[1],ze=Object(i.useState)({fecha:"",area:2,asistencia:!1,declarado:!1,persona:null}),Fe=Object(s.a)(ze,2),Le=Fe[0],qe=Fe[1];function Be(e){C&&T(!1),Ie(Object(p.a)(Object(p.a)({},Ae),{},Object(x.a)({},e.target.name,e.target.value)))}return Object(i.useEffect)((function(){d(!0);var e=new Date,a=e.getMonth()+1;a<10&&(a="0"+a);var n=e.getDay();n<10&&(n="0"+n),me(e.getFullYear()+"-"+a+"-"+n),qe(Object(p.a)(Object(p.a)({},Le),{},{fecha:e.getFullYear()+"-"+a+"-"+n})),d(!1),oe(!0),O.a.get(t+"/turnos/count?fecha="+e.getFullYear()+"-"+a+"-"+n).then((function(e){te(100-e.data),oe(!1)})).catch((function(e){console.log(e.response)}))}),[]),Object(i.useEffect)((function(){C&&T(!1)}),[M]),Object(n.jsx)("div",{className:c.fondo,children:Object(n.jsxs)(g.a,{elevation:3,style:{padding:"10px",background:"lightblue"},children:[Object(n.jsx)("form",{onSubmit:function(e){e.preventDefault(),Ne(!0),O.a.get(t+"/personas?dni="+Ae.dni).then((function(e){0===e.data.length||!0===M?(M&&0!==e.data.length&&Ie({dni:e.data[0].dni,nombre:e.data[0].nombre,apellido:e.data[0].apellido,telefono:e.data[0].telefono,domicilio:e.data[0].domicilio}),Ne(!1),v(!0),Ne(!1)):(T(!0),Ne(!1))})).catch((function(e){console.log(e.response)}))},children:Object(n.jsxs)(w.a,{color:"primary",fullWidth:!0,children:[Object(n.jsxs)(j.a,{className:c.pantallaMedia,container:!0,direction:"row",justify:"center",alignItems:"center",spacing:1,children:[Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{variant:"h3",component:"h1",align:"center",children:"Turnos de pileta"})}),Object(n.jsx)(j.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(n.jsx)(N.a,{control:Object(n.jsx)(k.a,{checked:M,onChange:function(){Y(!M)},name:"checkedF",color:"primary"}),label:"Ya he realizado una reserva alguna vez"})}),Object(n.jsx)(j.a,{item:!0,lg:2,md:2,sm:12,xs:12,children:Object(n.jsx)(D.a,{onChange:Be,value:Ae.dni,name:"dni",className:c.inputAncho,id:"filled-basic",label:"DNI",type:"number",variant:"filled",maxLength:50,required:!0})}),!M&&Object(n.jsx)(j.a,{item:!0,lg:3,md:3,sm:12,xs:12,children:Object(n.jsx)(D.a,{onChange:Be,value:Ae.nombre,name:"nombre",className:c.inputAncho,id:"filled-basic",label:"Nombre",variant:"filled",maxLength:50,required:!0})}),!M&&Object(n.jsx)(j.a,{item:!0,lg:3,md:3,sm:12,xs:12,children:Object(n.jsx)(D.a,{onChange:Be,value:Ae.apellido,name:"apellido",className:c.inputAncho,id:"filled-basic",label:"Apellido",variant:"filled",maxLength:50,required:!0})}),!M&&Object(n.jsx)(j.a,{item:!0,lg:2,md:2,sm:12,xs:12,children:Object(n.jsx)(D.a,{onChange:Be,value:Ae.telefono,name:"telefono",className:c.inputAncho,id:"filled-basic",label:"N\xfamero de celular",type:"number",variant:"filled",maxLength:50})}),!M&&Object(n.jsx)(j.a,{item:!0,lg:2,md:2,sm:12,xs:12,children:Object(n.jsxs)(w.a,{className:c.inputAncho,children:[Object(n.jsx)(A.a,{id:"demo-simple-select-label",style:{margin:"7px 10px"},children:"Localidad"}),Object(n.jsxs)(I.a,{value:Ae.domicilio,name:"domicilio",onChange:Be,id:"domicilio",variant:"filled",required:!0,children:[Object(n.jsx)(z.a,{value:!1,onClick:function(){return Oe(!1)},children:"San Bernardo"}),Object(n.jsx)(z.a,{value:!0,onClick:function(){return Oe(!0)},children:"Soy turista"})]})]})}),he&&!M&&Object(n.jsxs)(j.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:1,style:{margin:"10px"},children:[Object(n.jsx)(B.a,{variant:"filled",severity:"info",children:"Ingrese los datos de la persona con la cual se encuentra alojada. Al momento de asistir al complejo, deber\xe1 presentar una fotocopia del DNI de dicha persona."}),Object(n.jsx)(j.a,{item:!0,lg:2,md:2,sm:12,xs:12,children:Object(n.jsx)(D.a,{onChange:Be,value:Ae.dni_alojado,name:"dni_alojado",className:c.inputAncho,id:"filled-basic",label:"DNI",type:"number",variant:"filled",maxLength:50,required:!0})}),Object(n.jsx)(j.a,{item:!0,lg:3,md:3,sm:12,xs:12,children:Object(n.jsx)(D.a,{onChange:Be,value:Ae.nombre_alojado,name:"nombre_alojado",className:c.inputAncho,id:"filled-basic",label:"Nombre",variant:"filled",maxLength:50,required:!0})}),Object(n.jsx)(j.a,{item:!0,lg:3,md:3,sm:12,xs:12,children:Object(n.jsx)(D.a,{onChange:Be,value:Ae.apellido_alojado,name:"apellido_alojado",className:c.inputAncho,id:"filled-basic",label:"Apellido",variant:"filled",maxLength:50,required:!0})}),Object(n.jsx)(j.a,{item:!0,lg:3,md:3,sm:12,xs:12,children:Object(n.jsx)(D.a,{onChange:Be,value:Ae.domicilio_alojado,name:"domicilio_alojado",className:c.inputAncho,id:"filled-basic",label:"Domicilio",variant:"filled",maxLength:50,required:!0})})]}),Object(n.jsxs)(j.a,{item:!0,lg:4,md:4,sm:12,xs:12,align:"center",children:[Object(n.jsx)(b.a,{align:"center",variant:"h6",children:"Seleccione la fecha a reservar"}),Object(n.jsx)("input",{className:c.inputAncho,onChange:function(e){qe(Object(p.a)(Object(p.a)({},Le),{},{fecha:e.target.value})),oe(!0),1!==new Date(e.target.value).getUTCDay()?O.a.get(t+"/turnos/count?fecha="+e.target.value).then((function(e){te(100-e.data),oe(!1)})).catch((function(e){console.log(e.response)})):(te(-2),oe(!1))},id:"date",type:"date",min:ue,required:!0,value:Le.fecha,style:{boxSizing:"border-box",padding:"0px 10px",background:"rgba(0,0,0,.1)",borderRadius:"5px",border:"none"}})]}),Object(n.jsxs)(j.a,{item:!0,lg:4,md:4,sm:12,xs:12,align:"center",children:[ce&&Object(n.jsx)(F.a,{color:"secondary"}),Object(n.jsxs)(b.a,{color:"secondary",children:[" ",-1===ae?"":-2===ae?"Los d\xedas lunes no se puede reservar.":"".concat(ae," lugares disponibles")," "]})]}),Object(n.jsx)(j.a,{item:!0,lg:4,md:4,sm:12,xs:12,align:"center",children:Object(n.jsx)(w.a,{component:"fieldset",children:Object(n.jsxs)(L.a,{"aria-label":"Turno",name:"turno",value:String(Le.area),onChange:function(e){qe(Object(p.a)(Object(p.a)({},Le),{},{area:Number(e.target.value)}))},children:[Object(n.jsx)(N.a,{value:"0",control:Object(n.jsx)(q.a,{}),label:"Pileta"}),Object(n.jsx)(N.a,{value:"1",control:Object(n.jsx)(q.a,{}),label:"Camping"}),Object(n.jsx)(N.a,{value:"2",control:Object(n.jsx)(q.a,{}),label:"Ambos"})]})})}),Object(n.jsx)("br",{}),Object(n.jsx)(b.a,{variant:"h4",component:"h4",align:"center",children:"Declaracion Jurada de S\xedntomas de COVID-19"}),Object(n.jsxs)(j.a,{item:!0,sm:12,children:[Object(n.jsx)("img",{src:"sintomas.jpg",width:"100%"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(b.a,{fontWeight:"fontWeightBold",align:"justify",children:"Si ten\xe9s dos o m\xe1s de los siguientes s\xedntomas: fiebre de 37,5\xb0C, tos, dolor de garganta, dificultad respiratoria, dolor muscular, cefalea, diarrea y/o v\xf3mitos, o si ten\xe9s solo p\xe9rdida brusca de gusto u olfato, comunicate al cel 3735604561 de 09 a 11hs y de 17 a 20 hs sin excepci\xf3n."})]}),Object(n.jsx)(N.a,{control:Object(n.jsx)(k.a,{checked:Q,onChange:function(){Z(!Q)},name:"tildadoCovid",required:!0}),label:"Declaro bajo juramento que no tengo s\xedntomas de COVID-19"}),Object(n.jsx)(j.a,{item:!0,xs:12,className:c.inputAncho,children:l&&Object(n.jsx)(F.a,{})}),Object(n.jsx)(j.a,{item:!0,xs:12,align:"center",style:{margin:"15px"},children:we&&Object(n.jsx)(F.a,{color:"secondary"})}),Object(n.jsx)(j.a,{item:!0,xs:6,align:"center",children:Object(n.jsx)(m.a,{className:c.botones,onClick:function(){a(!1)},size:"large",variant:"contained",color:"secondary",children:"Atras"})}),Object(n.jsx)(j.a,{item:!0,xs:6,align:"center",children:Object(n.jsx)(m.a,{className:c.botones,disabled:l||ae<=0,type:"submit",size:"large",variant:"contained",style:{background:"lightgreen"},children:"Solicitar"})})]}),f&&Object(n.jsx)(H,{funcionAceptar:function(e){if(v(!1),Ne(!0),e){var a=Ae.domicilio,n=Ae;n.domicilio=a,O.a.get(t+"/personas?dni="+Ae.dni).then((function(e){if(0===e.data.length)O.a.post(t+"/personas",n).then((function(e){var a=Le;a.persona=e.data.id,O.a.post(t+"/turnos",a).then((function(e){Ne(!1),ye(!0),te(ae-1)})).catch((function(e){console.log(e.response)}))})).catch((function(e){console.log(e.response)}));else{var a=Le;a.persona=e.data[0].id;var i=e.data[0].turnos.length-1,c=new Date(e.data[0].turnos[i].fecha+" 23:59:59"),o=Date.parse(c)+864e5,r=Date.parse(c)+1296e5;if(o>Date.now()&&0!==e.data[0].turnos.length){if(Ne(!1),c<Date.now()){var s=new Date(r);X("Debido a su \xfaltimo turno expedido, puede volver a realizar una reserva el d\xeda "+s.getDay()+"/"+(s.getMonth()+1)+"/"+s.getFullYear())}else{var l=c.getDate(),d=c.getMonth()+1,j=c.getFullYear();d<10&&(d="0"+d),l<10&&(l="0"+l),X("Usted tiene un turno activo para la fecha "+"".concat(l,"-").concat(d,"-").concat(j)+". Si desea cancelarlo, comun\xedquese al correo complejodeportivosb@gmail.com.ar")}de(!0)}else O.a.post(t+"/turnos",a).then((function(e){Ne(!1),ye(!0),Ie({dni:"",nombre:"",apellido:"",telefono:"",domicilio:!1,dni_alojado:"",nombre_alojado:"",apellido_alojado:"",domicilio_alojado:""}),qe({fecha:Le.fecha,area:2,asistencia:!1,declarado:!1,persona:null}),te(ae-1)})).catch((function(e){Ne(!1),console.log(e.response)}))}})).catch((function(e){Ne(!1),console.log(e.response)}))}else Ne(!1)},persona:Ae,turno:Le}),le&&Object(n.jsx)(E,{funcionAceptar:de,mensaje:V}),Object(n.jsx)(J,{mensaje:"\xa1Turno creado exitosamente!",abrir:ve,setabrir:ye})]})}),C&&Object(n.jsx)(B.a,{variant:"filled",severity:"error",children:'El DNI ya se encuentra en uso, seleccione "Ya he realizado una reserva alguna vez" para continuar con la reserva.'})]})})},U=t(5),V=t(197),X=t(198),G=t(201),K=t(211),Q=t(202),Z=t(203),$=t(204),ee=t(205),ae=t(95),te=t.n(ae),ne=t(94),ie=t.n(ne),ce=t(199),oe=t(200),re=Object(T.a)({root:{"& > *":{borderBottom:"unset",padding:"5px"}}}),se=Object(U.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(V.a),le=Object(U.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(X.a);function de(e){var a=e.turno,t=e.ruta,o=e.usuario,r=Object(i.useState)(!1),l=Object(s.a)(r,2),d=l[0],x=l[1],h=re(),g=Object(i.useState)(a),f=Object(s.a)(g,2),v=f[0],y=f[1],S=Object(i.useState)(!1),C=Object(s.a)(S,2),w=C[0],N=C[1];Object(i.useEffect)((function(){var e=new Date(a.fecha+" 23:59:59"),t=new Date(a.created_at),n=parseInt((e-t)/1e3/60/60/24);N(n>2)}),[]);var k="Bearer "+o.jwt;return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsxs)(le,{className:h.root,children:[Object(n.jsxs)(se,{align:"left",component:"th",scope:"row",onClick:function(){return x(!d)},children:[Object(n.jsx)(u.a,{"aria-label":"expand row",size:"small",children:d?Object(n.jsx)(ie.a,{}):Object(n.jsx)(te.a,{})}),"".concat(v.persona.apellido," ").concat(v.persona.nombre)]}),Object(n.jsx)(se,{align:"center",children:v.persona.dni}),Object(n.jsxs)(se,{align:"center",children:[Object(n.jsx)(m.a,{size:"small",variant:"contained",style:{margin:"5px"},color:v.asistencia?"primary":"secondary",onClick:function(){var e=!v.asistencia;O.a.put(t+"/turnos/"+v.id,{asistencia:e},{headers:{Authorization:k}}).then((function(e){y(Object(p.a)(Object(p.a)({},v),{},{asistencia:!v.asistencia}))})).catch((function(e){console.log(e.response)}))},children:v.asistencia?"Si":"No"}),w&&Object(n.jsx)(m.a,{size:"small",variant:"contained",color:v.declarado?"primary":"secondary",onClick:function(){var e=!v.declarado;O.a.put(t+"/turnos/"+v.id,{declarado:e},{headers:{Authorization:k}}).then((function(e){y(Object(p.a)(Object(p.a)({},v),{},{declarado:!v.declarado}))})).catch((function(e){console.log(e.response)}))},children:v.declarado?Object(n.jsx)(ce.a,{}):Object(n.jsx)(oe.a,{})})]})]}),Object(n.jsx)(le,{children:Object(n.jsx)(se,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(n.jsx)(G.a,{in:d,timeout:"auto",unmountOnExit:!0,children:Object(n.jsx)(K.a,{children:Object(n.jsxs)(j.a,{container:!0,children:[Object(n.jsx)(j.a,{item:!0,lg:3,md:3,sm:12,xs:12,align:"center",children:Object(n.jsxs)(b.a,{variant:"subtitle1",gutterBottom:!0,component:"div",children:["Tel\xe9fono: ",""!==v.persona.telefono?v.persona.telefono:"N/A"]})}),Object(n.jsx)(j.a,{item:!0,lg:3,md:3,sm:12,xs:12,align:"center",children:Object(n.jsx)(b.a,{variant:"subtitle1",gutterBottom:!0,component:"div",children:v.persona.domicilio?" Localidad: San Bernardo":" Situaci\xf3n: Turista"})}),Object(n.jsx)(j.a,{item:!0,lg:3,md:3,sm:12,xs:12,align:"center",children:Object(n.jsxs)(b.a,{variant:"subtitle1",gutterBottom:!0,component:"div",children:["\xc1rea: ",0===v.persona.area?"Pileta":1===v.persona.area?"Camping":"Pileta y camping"]})}),Object(n.jsx)(j.a,{item:!0,lg:3,md:3,sm:12,xs:12,align:"center",children:Object(n.jsxs)(b.a,{variant:"subtitle1",gutterBottom:!0,component:"div",children:["Fecha de solicitud: ",v.created_at.split("T")[0]]})})]})})})})})]})}function je(e){var a=e.ruta,t=e.usuario,c=_(),o=Object(i.useState)(""),r=Object(s.a)(o,2),l=r[0],d=r[1],j=Object(i.useState)(""),u=Object(s.a)(j,2),m=u[0],x=u[1],p=Object(i.useState)(!1),h=Object(s.a)(p,2),f=h[0],v=h[1],y=Object(i.useState)([]),S=Object(s.a)(y,2),C=S[0],w=S[1];return Object(i.useEffect)((function(){var e=new Date,t=e.getMonth()+1;t<10&&(t="0"+t);var n=e.getDay();n<10&&(n="0"+n),d(e.getFullYear()+"-"+t+"-"+n),v(!0),O.a.get(a+"/turnos?fecha="+e.getFullYear()+"-"+t+"-"+n).then((function(e){var a=e.data,t=a.map((function(e,a){return{index:a,value:e.persona.apellido.toLowerCase()}}));t.sort((function(e,a){return e.value>a.value?1:e.value<a.value?-1:0}));var n=t.map((function(e){return a[e.index]}));w(n),v(!1)})).catch((function(e){console.log(e.response)}))}),[]),Object(n.jsx)("div",{className:c.fondo2,style:{margin:"auto"},children:Object(n.jsxs)(g.a,{elevation:3,style:{width:"100%",margin:"10px auto",padding:"20px",background:"lightblue"},className:"Fondo",children:[Object(n.jsx)(b.a,{variant:"h3",component:"h1",align:"center",children:"Administrar turnos"}),Object(n.jsx)(b.a,{align:"left",children:"Seleccione una fecha:"}),Object(n.jsx)("input",{className:c.inputAncho,id:"date",type:"date",value:l,onChange:function(e){v(!0),d(e.target.value),""!==m&&x(""),1!==new Date(e.target.value).getUTCDay()?O.a.get(a+"/turnos?fecha="+e.target.value).then((function(e){w([]);var a=e.data,t=a.map((function(e,a){return{index:a,value:e.persona.apellido.toLowerCase()}}));t.sort((function(e,a){return e.value>a.value?1:e.value<a.value?-1:0}));var n=t.map((function(e){return a[e.index]}));w(n),0===e.data.length&&x("No existen reservas para el d\xeda seleccionado."),v(!1)})).catch((function(e){console.log(e.response)})):(w([]),x("Los d\xedas lunes no se pueden realizar reservas."),v(!1))},style:{boxSizing:"border-box",padding:"0px 15px",fontSize:"15px",background:"rgba(0,0,0,.1)",borderRadius:"5px",border:"none"}}),f&&Object(n.jsx)(F.a,{color:"secondary"}),""===m?Object(n.jsxs)(Q.a,{component:g.a,style:{maxWidth:"1000px",margin:"10px auto",background:"rgba(0,0,0,0)"},children:[Object(n.jsx)(b.a,{align:"justify",style:{fontWeight:"bold",padding:"10px"},children:'Declaraci\xf3n Jurada de S\xedntomas de COVID-19 para personas que hayan solicitado un turno hace m\xe1s de 72 horas: presione en "X" en el caso de que la persona en cuesti\xf3n haya renovado su declaraci\xf3n jurada y asegure no poseer s\xedntomas de COVID-19 al momento de asistir al complejo.'}),Object(n.jsxs)(Z.a,{"aria-label":"collapsible table",style:{background:"rgba(0,0,0,.1)"},children:[Object(n.jsx)($.a,{children:Object(n.jsxs)(le,{children:[Object(n.jsx)(se,{align:"left",children:"Apellido y nombre"}),Object(n.jsx)(se,{align:"center",children:"DNI"}),Object(n.jsx)(se,{align:"center",children:"Asistencia/*Juramento*"})]})}),Object(n.jsx)(ee.a,{children:C.map((function(e,i){return Object(n.jsx)(de,{turno:e,ruta:a,usuario:t},i)}))})]})]}):Object(n.jsxs)(b.a,{variant:"h4",children:[Object(n.jsx)("br",{}),m]})]})})}var be=t(206),ue=t(216),me=t(15);function xe(e){var a=e.ruta,t=e.setusuario,c=_(),o=Object(me.g)(),r=Object(i.useState)(!1),l=Object(s.a)(r,2),d=l[0],u=l[1],h=Object(i.useState)(""),g=Object(s.a)(h,2),f=g[0],v=g[1],y=Object(i.useState)({email:"",contrasena:""}),S=Object(s.a)(y,2),C=S[0],w=S[1],N=function(e){""!==f&&v("");var a=e.target.value,t=e.target.name;w(Object(p.a)(Object(p.a)({},C),{},Object(x.a)({},t,a)))};return Object(n.jsx)("div",{className:c.fondo2,style:{margin:"auto"},children:Object(n.jsx)("div",{className:"Fondo",style:{maxWidth:300},children:Object(n.jsxs)(j.a,{container:!0,direction:"row",justify:"center",spacing:2,children:[Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{variant:"h5",component:"h1",align:"center",className:c.form,children:"Iniciar Sesi\xf3n"})}),Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(D.a,{onChange:N,name:"email",value:C.email,className:c.inputAncho,id:"filled-basic",label:"Usuario/Correo electr\xf3nico",variant:"filled",required:!0})}),Object(n.jsx)(be.a,{}),Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(D.a,{onChange:N,name:"contrasena",value:C.contrasena,required:!0,type:"password",label:"Contrase\xf1a",variant:"filled",style:{marginTop:"15px"},className:c.inputAncho})}),Object(n.jsx)("div",{className:c.inputAncho,hidden:!d,children:Object(n.jsx)(F.a,{color:"secondary"})}),Object(n.jsx)(ue.a,{xlDown:""===f,children:Object(n.jsx)(b.a,{color:"error",children:f})}),Object(n.jsx)(j.a,{item:!0,xs:12,align:"center",children:Object(n.jsx)(m.a,{onClick:function(){u(!0),""!==f&&v(""),""!==C.email&&""!==C.contrasena||(v("Faltan rellenar campos"),u(!1)),O.a.post(a+"/auth/local/",{identifier:C.email,password:C.contrasena}).then((function(e){t(e.data),localStorage.setItem("datosLocal",JSON.stringify({jwt:e.data.jwt,datosSesion:e.data.user})),u(!1),o.push("/listar/")})).catch((function(e){var a=JSON.parse(e.response.request.response).message[0].messages[0].id;console.log("Error: ",a),"Auth.form.error.invalid"===a&&v("Usuario/correo o contrase\xf1a incorrectos"),u(!1)}))},size:"large",variant:"contained",color:"secondary",children:"Iniciar Sesi\xf3n"})})]})})})}var pe=t(51),he=t(96),Oe=t.n(he);function ge(e){var a=e.setusuario,t=e.usuario,i=Object(me.g)();return Object(n.jsx)(l.a,{position:"static",style:{backgroundColor:"#00CC66"},children:Object(n.jsxs)(d.a,{children:[Object(n.jsx)(pe.b,{to:"/",style:{textDecoration:"none",color:"#393939",fontFamily:"Homework",padding:"0px 10px"},children:Object(n.jsx)("img",{src:"municipalidad_logo.png",width:"76px"})}),Object(n.jsx)(pe.b,{to:"/",style:{textDecoration:"none",color:"#393939",fontFamily:"Homework"},children:Object(n.jsx)(b.a,{variant:"h5",children:"Complejo deportivo"})}),""!==t.jwt&&Object(n.jsx)(m.a,{startIcon:Object(n.jsx)(Oe.a,{}),variant:"contained",onClick:function(){localStorage.setItem("datosLocal",JSON.stringify(null)),a({jwt:"",datosSesion:{}}),void 0!==i&&i.push("/")},style:{marginLeft:"auto"},children:Object(n.jsx)(ue.a,{smDown:!0,children:"Cerrar Sesion"})})]})})}var fe=t(97),ve=t.n(fe),ye=t(209),Se=t(210);var Ce=function(){var e=_(),a="https://piletas-sb.herokuapp.com",t=Object(i.useState)(!1),c=Object(s.a)(t,2),o=c[0],r=c[1],x=Object(i.useState)({datosSesion:{},jwt:""}),p=Object(s.a)(x,2),h=p[0],O=p[1],g=Object(i.useState)(!1),f=Object(s.a)(g,2),v=f[0],y=f[1];return Object(i.useEffect)((function(){y(!0)}),[]),Object(i.useEffect)((function(){var e=localStorage.getItem("datosLocal")||null,a=JSON.parse(e);null!==a&&O(a)}),[]),Object(n.jsxs)("div",{className:"App",style:{height:"auto"},children:[Object(n.jsxs)(pe.a,{basename:"/proyecto-piletas",children:[Object(n.jsx)(ge,{setusuario:O,usuario:h}),Object(n.jsxs)(me.d,{children:[Object(n.jsx)(me.b,{exact:!0,path:"/",children:Object(n.jsx)(M,{ruta:a})}),Object(n.jsx)(me.b,{path:"/sesion/",children:""!==h.jwt?Object(n.jsx)(me.a,{to:"/listar/"}):Object(n.jsx)(xe,{ruta:a,setusuario:O})}),Object(n.jsx)(me.b,{path:"/listar/",children:v&&""===h.jwt?Object(n.jsx)(me.a,{to:"/"}):Object(n.jsx)(je,{usuario:h,ruta:a})}),Object(n.jsx)(me.b,{children:Object(n.jsx)("div",{className:e.fondo2,style:{margin:"auto"},children:Object(n.jsx)("img",{src:"404.png",alt:""})})})]})]}),Object(n.jsx)(l.a,{position:"relative",bottom:"0px",style:{zIndex:0,backgroundColor:"#00CC66"},children:Object(n.jsx)(d.a,{children:Object(n.jsxs)(j.a,{container:!0,direction:"row",alignItems:"center",justify:"center",children:[Object(n.jsx)(j.a,{item:!0,xs:2,sm:2,md:2,lg:2,style:{padding:"0px 15px"},align:"right",children:Object(n.jsx)("img",{src:"munilogo.png",alt:"",width:"50px"})}),Object(n.jsx)(j.a,{item:!0,xs:10,sm:10,md:4,lg:4,align:"left",children:Object(n.jsx)(b.a,{style:{color:"black"},variant:"h6",children:"Municipalidad de San Bernardo"})}),Object(n.jsxs)(j.a,{item:!0,xs:12,sm:12,md:2,lg:2,align:"center",children:[Object(n.jsx)(u.a,{size:"medium",style:{color:"black"},href:"https://www.instagram.com/municipalidad28/",children:Object(n.jsx)(ye.a,{})}),Object(n.jsx)(u.a,{size:"medium",style:{color:"black"},href:"https://www.facebook.com/MunicipioSanBernardo/",children:Object(n.jsx)(Se.a,{})})]}),Object(n.jsxs)(j.a,{item:!0,xs:12,sm:12,md:4,lg:4,align:"center",children:[Object(n.jsx)(b.a,{style:{color:"black"},children:"Ante cualquier inconveniente con el sitio contactar a:"}),Object(n.jsx)(m.a,{style:{textTransform:"lowercase"},onClick:function(){var e=document.createElement("input");e.setAttribute("value","complejodeportivosb@gmail.com"),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),r(!0)},startIcon:Object(n.jsx)(ve.a,{}),children:"complejodeportivosb@gmail.com"})]})]})})}),o&&Object(n.jsx)(J,{mensaje:"Copiado al portapapeles",abrir:o,setabrir:r})]})},we=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,226)).then((function(a){var t=a.getCLS,n=a.getFID,i=a.getFCP,c=a.getLCP,o=a.getTTFB;t(e),n(e),i(e),c(e),o(e)}))};function Ne(){return Object(n.jsx)(Ce,{})}r.a.render(Object(n.jsx)(Ne,{}),document.getElementById("root")),we()}},[[151,1,2]]]);
//# sourceMappingURL=main.41f95e55.chunk.js.map