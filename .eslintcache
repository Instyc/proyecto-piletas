[{"F:\\Piletas\\piletas\\src\\index.js":"1","F:\\Piletas\\piletas\\src\\App.js":"2","F:\\Piletas\\piletas\\src\\reportWebVitals.js":"3","F:\\Piletas\\piletas\\src\\Estilos.js":"4","F:\\Piletas\\piletas\\src\\Componentes\\formulario.js":"5","F:\\Piletas\\piletas\\src\\Componentes\\listado.js":"6","F:\\Piletas\\piletas\\src\\Componentes\\notificacion.js":"7","F:\\Piletas\\piletas\\src\\Componentes\\alerta.js":"8","F:\\Piletas\\piletas\\src\\Componentes\\sesion.js":"9","F:\\Piletas\\piletas\\src\\Componentes\\nav.js":"10","F:\\Piletas\\piletas\\src\\Componentes\\Formulario.js":"11","F:\\Piletas\\piletas\\src\\Componentes\\Listado.js":"12","F:\\Piletas\\piletas\\src\\Componentes\\Sesion.js":"13","F:\\Piletas\\piletas\\src\\Componentes\\Nav.js":"14","F:\\Piletas\\piletas\\src\\Componentes\\Alerta.js":"15","F:\\Piletas\\piletas\\src\\Componentes\\Notificacion.js":"16","F:\\Piletas\\piletas\\src\\Componentes\\Deporte.js":"17","F:\\Piletas\\piletas\\src\\Componentes\\ListadoDeporte.js":"18"},{"size":514,"mtime":1612218146755,"results":"19","hashOfConfig":"20"},{"size":4673,"mtime":1613691709575,"results":"21","hashOfConfig":"20"},{"size":362,"mtime":1611795282164,"results":"22","hashOfConfig":"20"},{"size":3510,"mtime":1612402448823,"results":"23","hashOfConfig":"20"},{"size":27607,"mtime":1612569662136,"results":"24","hashOfConfig":"20"},{"size":10191,"mtime":1612567393956,"results":"25","hashOfConfig":"20"},{"size":1063,"mtime":1612412673826,"results":"26","hashOfConfig":"20"},{"size":896,"mtime":1612396451807,"results":"27","hashOfConfig":"20"},{"size":4357,"mtime":1612567411548,"results":"28","hashOfConfig":"20"},{"size":1474,"mtime":1612569004076,"results":"29","hashOfConfig":"20"},{"size":26310,"mtime":1613691899088,"results":"30","hashOfConfig":"20"},{"size":13444,"mtime":1613691930865,"results":"31","hashOfConfig":"20"},{"size":4231,"mtime":1613075749338,"results":"32","hashOfConfig":"20"},{"size":2014,"mtime":1613144882211,"results":"33","hashOfConfig":"20"},{"size":921,"mtime":1613683144573,"results":"34","hashOfConfig":"20"},{"size":1065,"mtime":1612571474534,"results":"35","hashOfConfig":"20"},{"size":39982,"mtime":1613689701166,"results":"36","hashOfConfig":"20"},{"size":9827,"mtime":1613683144573,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"z21pu",{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"50"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"50"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"50"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"50"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"66","messages":"67","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"78","messages":"79","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"40"},"F:\\Piletas\\piletas\\src\\index.js",[],["81","82"],"F:\\Piletas\\piletas\\src\\App.js",["83"],"F:\\Piletas\\piletas\\src\\reportWebVitals.js",[],"F:\\Piletas\\piletas\\src\\Estilos.js",[],"F:\\Piletas\\piletas\\src\\Componentes\\formulario.js",["84","85","86","87","88","89","90","91"],"import React,{useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {LinearProgress,InputLabel, Checkbox,FormControlLabel, Typography, Radio, RadioGroup, TextField, FormControl, Button, Paper, Grid, Select, MenuItem, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle} from '@material-ui/core';\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Estilos from '../Estilos.js';\r\nimport Notificacion from './notificacion.js'\r\nimport AlertaMensaje from './alerta.js'\r\n\r\n\r\n//Componente utilizado para crear o modificar publicaciones o solicitudes de servicios\r\nexport default function Inicio({ruta}) {\r\n    const [siguiente, setsiguiente] = useState(false);\r\n    \r\n    return ( \r\n        siguiente?<Formulario setsiguiente={setsiguiente} ruta={ruta}/>:<Condiciones setsiguiente={setsiguiente}/>\r\n    );\r\n}\r\n\r\nconst Condiciones = ({setsiguiente}) => {\r\n    const classes = Estilos();\r\n\r\n    return (\r\n        <div className={classes.fondo}>\r\n            <Paper elevation={3} style={{padding: \"20px\", background:\"lightblue\", maxWidth:\"1600px\"}} className=\"Fondo\">\r\n                <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" spacing={1}>\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"h4\" component=\"h1\" align=\"center\">\r\n                            Condiciones para realizar una reserva para las piletas\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <ul style={{textAlign:\"left\",textJustify:\"auto\"}}>\r\n                            <li>Los días habilitados para asistir al complejo son de martes a domingo. El horario de apertura del complejo es de 14 a 00 hs, y el sector de las piletas cierra a las 20 hs.</li>\r\n                            <li>Al momento de ingresar al complejo, debe presentar su DNI y un certificado de buena salud expedido por un organismo público.</li>\r\n                            <li>Luego de realizado una reserva, deberá esperar 48 horas para poder realizar otra.</li>\r\n                            <li>La entrada al complejo es totalmente gratuita.</li>\r\n                            <li>Para poder realizar una reserva, debe tener un domicilio real en San Bernardo que pueda ser comprobado mediante su DNI.</li>\r\n                            <li>En caso de no poseer un domicilio en San Bernardo y estar vacacionando en nuestra ciudad, deberás presentar también una fotocopia del documento de la persona con la que te estás alojando.</li>\r\n                            <li>Si realizas una reserva 72 horas antes de asistir al complejo, deberás realizar una actualización de la declaración jurada al momento de ingresar.</li>\r\n                        <br/></ul>       \r\n                    </Grid>      \r\n                    <Button className={classes.botones} onClick={()=>{setsiguiente(true)}} size=\"large\" variant=\"contained\" color=\"secondary\">Siguiente</Button>\r\n                </Grid>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Alerta({funcionAceptar, persona, turno}) {\r\n    const [open, setOpen] = useState(true);\r\n    const [cargando, setcargando] = useState(false)\r\n    const [noEsta, setnoEsta] = useState(persona.nombre===\"\")\r\n    //Ejecutamos la función que se pasa como parámetro\r\n    const handleClose = (boole) => {\r\n      setcargando(true)\r\n      funcionAceptar(boole)\r\n      setcargando(false)\r\n      setOpen(false);\r\n    };\r\n  \r\n    return (\r\n      <div>\r\n        <Dialog\r\n          open={open}\r\n          onClose={()=>{handleClose(false)}}\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{noEsta?\"DNI no encontrado\":\"Por favor, confirme que sus datos sean correctos\"}</DialogTitle>\r\n          <DialogContent>\r\n            {!noEsta && <DialogContentText id=\"alert-dialog-description\">\r\n                Nombre: {persona.nombre}<br/>\r\n                Apellido: {persona.apellido}<br/>\r\n                DNI: {persona.dni}<br/>\r\n                Telefono: {persona.telefono}<br/>\r\n                {persona.domicilio?\"Situación: Soy turista\":\"Localidad: San Bernardo\"}<br/>\r\n                Fecha reservada: {turno.fecha}<br/>\r\n                Área: {turno.area===0?\"Pileta\":(turno.area===1?\"Camping\":\"Camping y pileta\")}\r\n            </DialogContentText>}\r\n            {noEsta && <DialogContentText id=\"alert-dialog-description\">\r\n                El DNI introducido no se encuentra registrado. Por favor, ingrese todos sus datos destildando la opción \"Ya he realizado una reserva alguna vez\".\r\n            </DialogContentText>}\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={()=>{handleClose(false)}} variant=\"contained\" color=\"secondary\">\r\n              Cancelar\r\n            </Button>\r\n            <Button onClick={()=>{handleClose(true)}} variant=\"contained\" style={{background:\"lightgreen\"}} disabled={noEsta} autoFocus>\r\n              Confirmar\r\n            </Button>\r\n            {cargando && <Cargando/>}\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n\r\nconst Formulario = ({setsiguiente, ruta, usuario}) =>{\r\n    const classes = Estilos();\r\n\r\n    const [cargando, setcargando] = useState(false);\r\n    const [abrirConfirmacion, setabrirConfirmacion] = useState(false);\r\n    const [alertaDNI, setalertaDNI] = useState(false);\r\n    const [tildado, settildado] = useState(false);\r\n    const [mensaje, setmensaje] = useState(\"\");\r\n    const [tildadoCovid, settildadoCovid] = useState(false);\r\n    const [disponibles, setdisponibles] = useState(-1);\r\n    const [esperaDisponible, setesperaDisponible] = useState(false);\r\n    const [notificar, setnotificar] = useState(false);\r\n    const [fechaHoy, setfechaHoy] = useState(\"\");\r\n    const [turista, setturista] = useState(false);\r\n    const [abrirAlerta, setabrirAlerta] = useState(false);\r\n\r\n    const [cargandoSolicitar, setcargandoSolicitar] = useState(false);\r\n\r\n    //Datos de la pagina\r\n    const [persona, setpersona] = useState({\r\n        dni: \"\",\r\n        nombre:\"\",\r\n        apellido: \"\",\r\n        domicilio: \"San Bernardo\",\r\n        telefono: \"\",\r\n        dni_alojado: \"\",\r\n        nombre_alojado:\"\",\r\n        apellido_alojado: \"\",\r\n        domicilio_alojado: \"\"\r\n    }); \r\n    \r\n    const [turno, setturno] = useState({\r\n        fecha: \"\",\r\n        area: 2,\r\n        asistencia: false,\r\n        declarado: false,\r\n        persona: null\r\n    });\r\n\r\n    useEffect(()=>{\r\n        let date_ = new Date();\r\n        let mes = date_.getMonth() + 1\r\n        if(mes < 10)\r\n            mes = \"0\"+mes\r\n        let dia = date_.getDay()\r\n        if(dia < 10)\r\n            dia = \"0\"+dia\r\n        \r\n        setfechaHoy(date_.getFullYear()+\"-\"+mes+\"-\"+dia)\r\n        setturno({\r\n            ...turno,\r\n            fecha: date_.getFullYear()+\"-\"+mes+\"-\"+dia\r\n        })\r\n\r\n        setesperaDisponible(true)\r\n        axios.get(ruta+'/turnos/count?fecha='+date_.getFullYear()+\"-\"+mes+\"-\"+dia)\r\n        .then(response => {\r\n            setdisponibles(100-response.data)\r\n            setesperaDisponible(false)\r\n        }).catch(error => {\r\n            console.log(error.response)\r\n        });\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        if (alertaDNI)\r\n            setalertaDNI(false)\r\n    },[tildado])\r\n\r\n    function modificarInput(e){\r\n        if (alertaDNI){\r\n            setalertaDNI(false)\r\n        }\r\n        setpersona({\r\n            ...persona,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    function seleccionarArea(e){\r\n        setturno({\r\n            ...turno,\r\n            area: Number(e.target.value)\r\n        })\r\n    }\r\n\r\n    function limpiarVariables(){\r\n        setpersona({\r\n            dni: \"\",\r\n            nombre:\"\",\r\n            apellido: \"\",\r\n            telefono: \"\",\r\n            domicilio: false,\r\n            dni_alojado: \"\",\r\n            nombre_alojado:\"\",\r\n            apellido_alojado: \"\",\r\n            domicilio_alojado: \"\"\r\n        });\r\n\r\n        setturno({\r\n            fecha: turno.fecha,\r\n            area: 2,\r\n            asistencia: false,\r\n            declarado: false,\r\n            persona: null\r\n        });\r\n    }\r\n\r\n    function alertaPregunta(e){\r\n        e.preventDefault();\r\n        setcargandoSolicitar(true)\r\n\r\n        axios.get(ruta+'/personas?dni='+persona.dni)\r\n        .then(response => {\r\n            if(response.data.length === 0 || tildado===true){\r\n                if (tildado && response.data.length !== 0)\r\n                    setpersona({\r\n                        dni: response.data[0].dni,\r\n                        nombre: response.data[0].nombre,\r\n                        apellido: response.data[0].apellido,\r\n                        telefono: response.data[0].telefono,\r\n                        domicilio: response.data[0].domicilio,\r\n                    })\r\n                setcargandoSolicitar(true)\r\n                setabrirConfirmacion(true)\r\n                setcargandoSolicitar(false)\r\n            }else{\r\n                setalertaDNI(true)\r\n                setcargandoSolicitar(false)\r\n            }\r\n\r\n        }).catch(error => {\r\n            console.log(error.response)\r\n        });\r\n    }\r\n\r\n    function solicitarTurno(boole){\r\n        setabrirConfirmacion(false)\r\n        \r\n        if(boole){\r\n            let aux = persona.domicilio\r\n            let persona_aux = persona;\r\n            persona_aux.domicilio = aux;\r\n\r\n            axios.get(ruta+'/personas?dni='+persona.dni)\r\n            .then(response => {\r\n                if(response.data.length === 0){\r\n                    axios.post(ruta+'/personas', persona_aux)\r\n                    .then(response => {\r\n                        setcargandoSolicitar(false)\r\n\r\n                        let turno_aux = turno;\r\n                        turno_aux.persona = response.data.id;\r\n                        \r\n                        axios.post(ruta+'/turnos', turno_aux)\r\n                        .then(response => {\r\n                            setabrirAlerta(true)\r\n                            limpiarVariables()\r\n                            setdisponibles(disponibles-1)\r\n                        }).catch(error => {\r\n                            console.log(error.response)\r\n                        });\r\n\r\n                    }).catch(error => {\r\n                        setcargandoSolicitar(true)\r\n                        console.log(error.response)\r\n                    });\r\n                }else{\r\n                    let turno_aux = turno;\r\n                    turno_aux.persona = response.data[0].id;\r\n\r\n                    let posicion = response.data[0].turnos.length -1\r\n                    let ultTurno = new Date(response.data[0].turnos[posicion].fecha+\" 23:59:59\");\r\n                    let unDiaDespues = Date.parse(ultTurno) + 1000*60*60*24 //24 horas a milisegundos\r\n                    let dosDias = Date.parse(ultTurno) + 1000*60*60*36 //36 horas a milisegundos\r\n\r\n                    if (unDiaDespues>Date.now() && response.data[0].turnos.length!==0){\r\n                        setcargandoSolicitar(false)\r\n                        if (ultTurno<Date.now()){\r\n                            let permitido = new Date(dosDias)\r\n                            setmensaje(\"Debido a su último turno expedido, puede volver a realizar una reserva el día \"+permitido.getDay()+\"/\"+(permitido.getMonth()+1)+\"/\"+permitido.getFullYear())\r\n                        }else{\r\n                            let dia = ultTurno.getDate()\r\n                            let mes = ultTurno.getMonth() + 1\r\n                            let anio = ultTurno.getFullYear()\r\n\r\n                            if(mes < 10)\r\n                                mes = \"0\"+mes\r\n                            if (dia <10)\r\n                                dia = \"0\"+dia\r\n                            setmensaje(\"Usted tiene un turno activo para la fecha \"+`${dia}-${mes}-${anio}`+\". Si desea cancelarlo, comuníquese al correo complejodeportivosb@gmail.com.ar\")\r\n                        }\r\n                        setnotificar(true)\r\n                    }else{\r\n                        axios.post(ruta+'/turnos', turno_aux)\r\n                        .then(response => {\r\n                            setcargandoSolicitar(false)\r\n                            setabrirAlerta(true)\r\n                            setcargandoSolicitar(true)\r\n                            limpiarVariables()\r\n                            setdisponibles(disponibles-1)\r\n                            setcargandoSolicitar(false)\r\n                        }).catch(error => {\r\n                            setcargandoSolicitar(false)\r\n                            console.log(error.response)\r\n                        });\r\n                    }\r\n                }\r\n            }).catch(error => {\r\n                setcargandoSolicitar(false)\r\n                console.log(error.response)\r\n            });\r\n        }else{\r\n            setcargandoSolicitar(false)\r\n        }\r\n    }\r\n\r\n    function seleccionarFecha(e){\r\n        setturno({...turno, fecha: e.target.value})\r\n        setesperaDisponible(true)\r\n        let _fecha = new Date(e.target.value)\r\n        if (_fecha.getUTCDay()!==1){\r\n            axios.get(ruta+'/turnos/count?fecha='+e.target.value)\r\n            .then(response => {\r\n                setdisponibles(100-response.data)\r\n                setesperaDisponible(false)\r\n            }).catch(error => {\r\n                console.log(error.response)\r\n            });\r\n        }else{\r\n            setdisponibles(-2)//Cuando se selecciona un lunes\r\n            setesperaDisponible(false)\r\n        }\r\n    }\r\n    \r\n    function x(e){\r\n        const re = /^[0-9\\b]+$/;\r\n        if (e.target.value === '' || re.test(e.target.value)) {\r\n            this.setState({value: e.target.value})\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div className={classes.fondo}>\r\n            <Paper elevation={3} style={{padding: \"10px\", background:\"lightblue\"}}>\r\n                <form onSubmit={alertaPregunta}>\r\n                    <FormControl color=\"primary\" fullWidth>\r\n                        <Grid className={classes.pantallaMedia} container direction=\"row\" justify=\"center\" alignItems=\"center\" spacing={1}>\r\n                            <Grid item xs={12}>\r\n                                <Typography variant=\"h3\" component=\"h1\" align=\"center\">\r\n                                    Turnos de pileta\r\n                                </Typography>\r\n                            </Grid>\r\n\r\n                            <Grid item lg={12} md={12} sm={12} xs={12}>\r\n                                <FormControlLabel\r\n                                control={\r\n                                    <Checkbox\r\n                                        checked={tildado}\r\n                                        onChange={()=>{settildado(!tildado)}}\r\n                                        name=\"checkedF\"\r\n                                        color=\"primary\"\r\n                                    />\r\n                                }\r\n                                label=\"Ya he realizado una reserva alguna vez\"\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item lg={2} md={2} sm={12} xs={12}>\r\n                                <TextField\r\n                                onChange={modificarInput}\r\n                                value={persona.dni}\r\n                                name=\"dni\"\r\n                                className={classes.inputAncho}\r\n                                id=\"filled-basic\"\r\n                                label=\"DNI\"\r\n                                type=\"number\"\r\n                                variant=\"filled\"\r\n                                maxLength={50}\r\n                                required/>\r\n                            </Grid>\r\n\r\n                            \r\n                            {!tildado && <Grid item lg={3} md={3} sm={12} xs={12}>\r\n                                <TextField\r\n                                onChange={modificarInput}\r\n                                value={persona.nombre}\r\n                                name=\"nombre\"\r\n                                className={classes.inputAncho}\r\n                                id=\"filled-basic\"\r\n                                label=\"Nombre\"\r\n                                variant=\"filled\"\r\n                                maxLength={50}\r\n                                required/>\r\n                            </Grid>}\r\n\r\n                            {!tildado && <Grid item lg={3} md={3} sm={12} xs={12}>\r\n                                <TextField\r\n                                onChange={modificarInput}\r\n                                value={persona.apellido}\r\n                                name=\"apellido\"\r\n                                className={classes.inputAncho}\r\n                                id=\"filled-basic\"\r\n                                label=\"Apellido\"\r\n                                variant=\"filled\"\r\n                                maxLength={50}\r\n                                required/>\r\n                            </Grid>}\r\n                                \r\n                            {!tildado && <Grid item lg={2} md={2} sm={12} xs={12}>\r\n                                <TextField\r\n                                    onChange={modificarInput}\r\n                                    value={persona.telefono}\r\n                                    name=\"telefono\"\r\n                                    className={classes.inputAncho}\r\n                                    id=\"filled-basic\"\r\n                                    label=\"Número de celular\"\r\n                                    type=\"number\"\r\n                                    variant=\"filled\"\r\n                                    maxLength={50}\r\n                                />\r\n                            </Grid>}\r\n\r\n                            {!tildado && <Grid item lg={2} md={2} sm={12} xs={12}>\r\n                                <FormControl className={classes.inputAncho}>\r\n                                    <InputLabel id=\"demo-simple-select-label\" style={{margin:\"7px 10px\"}}>Localidad</InputLabel>\r\n                                    <Select\r\n                                        value={persona.domicilio}\r\n                                        name=\"domicilio\"\r\n                                        onChange={modificarInput}\r\n                                        id=\"domicilio\"\r\n                                        variant=\"filled\"\r\n                                        required\r\n                                    >\r\n                                        <MenuItem value={false} onClick={()=>setturista(false)}>San Bernardo</MenuItem>\r\n                                        <MenuItem value={true} onClick={()=>setturista(true)}>Soy turista</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </Grid>}\r\n\r\n                            {/*Selecciona la opcion Soy turista */}\r\n                            {turista && !tildado && <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" spacing={1} style={{margin:\"10px\"}}>\r\n                                <Alert variant=\"filled\" severity=\"info\">\r\n                                    Ingrese los datos de la persona con la cual se encuentra alojada. Al momento de asistir al complejo, deberá presentar una fotocopia del DNI de dicha persona.\r\n                                </Alert>\r\n\r\n                                <Grid item lg={2} md={2} sm={12} xs={12}>\r\n                                    <TextField\r\n                                    onChange={modificarInput}\r\n                                    value={persona.dni_alojado}\r\n                                    name=\"dni_alojado\"\r\n                                    className={classes.inputAncho}\r\n                                    id=\"filled-basic\"\r\n                                    label=\"DNI\"\r\n                                    type=\"number\"\r\n                                    variant=\"filled\"\r\n                                    maxLength={50}\r\n                                    required/>\r\n                                </Grid>\r\n\r\n                                <Grid item lg={3} md={3} sm={12} xs={12}>\r\n                                    <TextField\r\n                                    onChange={modificarInput}\r\n                                    value={persona.nombre_alojado}\r\n                                    name=\"nombre_alojado\"\r\n                                    className={classes.inputAncho}\r\n                                    id=\"filled-basic\"\r\n                                    label=\"Nombre\"\r\n                                    variant=\"filled\"\r\n                                    maxLength={50}\r\n                                    required/>\r\n                                </Grid>\r\n\r\n                                <Grid item lg={3} md={3} sm={12} xs={12}>\r\n                                    <TextField\r\n                                    onChange={modificarInput}\r\n                                    value={persona.apellido_alojado}\r\n                                    name=\"apellido_alojado\"\r\n                                    className={classes.inputAncho}\r\n                                    id=\"filled-basic\"\r\n                                    label=\"Apellido\"\r\n                                    variant=\"filled\"\r\n                                    maxLength={50}\r\n                                    required/>\r\n                                </Grid>\r\n\r\n                                <Grid item lg={3} md={3} sm={12} xs={12}>\r\n                                    <TextField\r\n                                    onChange={modificarInput}\r\n                                    value={persona.domicilio_alojado}\r\n                                    name=\"domicilio_alojado\"\r\n                                    className={classes.inputAncho}\r\n                                    id=\"filled-basic\"\r\n                                    label=\"Domicilio\"\r\n                                    variant=\"filled\"\r\n                                    maxLength={50}\r\n                                    required/>\r\n                                </Grid>\r\n                            </Grid>}\r\n\r\n                            <Grid item lg={4} md={4} sm={12} xs={12} align=\"center\">\r\n                                <Typography align=\"center\" variant=\"h6\">\r\n                                    Seleccione la fecha a reservar\r\n                                </Typography>\r\n                                <input\r\n                                className={classes.inputAncho}\r\n                                onChange={seleccionarFecha}\r\n                                id=\"date\"\r\n                                type=\"date\"\r\n                                min={fechaHoy}\r\n                                required\r\n                                value={turno.fecha}\r\n                                style={{boxSizing: \"border-box\", padding:\"0px 10px\",background:\"rgba(0,0,0,.1)\", borderRadius:\"5px\",border:\"none\"}}/>\r\n                            </Grid>\r\n\r\n                            <Grid item lg={4} md={4} sm={12} xs={12} align=\"center\">\r\n                                {esperaDisponible && <LinearProgress color=\"secondary\"/>}\r\n                                <Typography color=\"secondary\"> {disponibles===-1?\"\":(disponibles===-2?\"Los días lunes no se puede reservar.\":`${disponibles} lugares disponibles`)} </Typography>\r\n                            </Grid>\r\n\r\n                            <Grid item lg={4} md={4} sm={12} xs={12} align=\"center\">\r\n                                <FormControl component=\"fieldset\">\r\n                                    <RadioGroup aria-label=\"Turno\" name=\"turno\" value={String(turno.area)} onChange={seleccionarArea}>\r\n                                    <FormControlLabel value={\"0\"} control={<Radio />} label=\"Pileta\" />\r\n                                    <FormControlLabel value={\"1\"} control={<Radio />} label=\"Camping\" />\r\n                                    <FormControlLabel value={\"2\"} control={<Radio />} label=\"Ambos\" />\r\n                                    </RadioGroup>\r\n                                </FormControl>\r\n                            </Grid>\r\n\r\n                            <br/>\r\n                            <Typography variant=\"h4\" component=\"h4\" align=\"center\">\r\n                                Declaracion Jurada de Síntomas de COVID-19\r\n                            </Typography>                                \r\n\r\n                            <Grid item sm={12}>\r\n                                <img src=\"sintomas.jpg\" width=\"100%\"></img>\r\n                                <br/>\r\n                                <br/>\r\n                                <Typography fontWeight=\"fontWeightBold\" align=\"justify\">\r\n                                    Si tenés dos o más de los siguientes síntomas: fiebre de 37,5°C, tos, dolor de garganta, dificultad respiratoria, dolor muscular, cefalea, diarrea y/o vómitos, o si tenés solo pérdida brusca de gusto u olfato, comunicate al cel 3735604561 de 09 a 11hs y de 17 a 20 hs sin excepción.\r\n                                </Typography>\r\n                            </Grid>\r\n\r\n                            <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={tildadoCovid}\r\n                                    onChange={()=>{settildadoCovid(!tildadoCovid)}}\r\n                                    name=\"tildadoCovid\"\r\n                                    required\r\n                                />\r\n                            }\r\n                            label=\"Declaro bajo juramento que no tengo síntomas de COVID-19\"\r\n                            />\r\n                            <Grid item xs={12} className={classes.inputAncho}>\r\n                                {cargando && <Cargando/>}\r\n                            </Grid>\r\n\r\n                            \r\n                            <Grid item xs={12} align=\"center\" style={{margin:\"15px\"}}>\r\n                                {cargandoSolicitar && <LinearProgress color=\"secondary\"/>}\r\n                            </Grid>\r\n                            <Grid item xs={6} align=\"center\">\r\n                                <Button className={classes.botones} onClick={()=>{setsiguiente(false)}} size=\"large\" variant=\"contained\" color=\"secondary\">Atras</Button>\r\n                            </Grid>\r\n                            \r\n                            <Grid item xs={6} align=\"center\">\r\n                                <Button className={classes.botones} disabled={cargando || disponibles<=0} type=\"submit\" size=\"large\" variant=\"contained\" style={{background:\"lightgreen\"}}>Solicitar</Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                        {abrirConfirmacion && <Alerta funcionAceptar={solicitarTurno} persona={persona} turno={turno}/>}\r\n                        {notificar && <Notificacion funcionAceptar={setnotificar} mensaje={mensaje}/>}\r\n                        <AlertaMensaje mensaje={\"¡Turno creado exitosamente!\"} abrir={abrirAlerta} setabrir={setabrirAlerta}/>\r\n                    </FormControl>\r\n                </form>\r\n                {alertaDNI && <Alert variant=\"filled\" severity=\"error\">\r\n                    El DNI ya se encuentra en uso, seleccione \"Ya he realizado una reserva alguna vez\" para continuar con la reserva.\r\n                </Alert>}\r\n            </Paper>\r\n        </div>\r\n    )\r\n}",["92","93"],"F:\\Piletas\\piletas\\src\\Componentes\\listado.js",["94","95"],"import React,{useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\nimport {Box, Collapse, IconButton, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Button, Typography, Paper, Grid } from '@material-ui/core';\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport Estilos from '../Estilos.js';\r\nimport {Check as Si, Close as No} from '@material-ui/icons/';\r\n\r\nconst useRowStyles = makeStyles({\r\n  root: {    '& > *': {\r\n      borderBottom: 'unset',\r\n      padding:\"5px\",\r\n    },\r\n  },\r\n});\r\n\r\nconst StyledTableCell = withStyles((theme) => ({\r\n  head: {\r\n    backgroundColor: theme.palette.common.black,\r\n    color: theme.palette.common.white,\r\n  },\r\n  body: {\r\n    fontSize: 14,\r\n  },\r\n}))(TableCell);\r\n\r\nconst StyledTableRow = withStyles((theme) => ({\r\n  root: {\r\n    '&:nth-of-type(odd)': {\r\n      backgroundColor: theme.palette.action.hover,\r\n    },\r\n  },\r\n}))(TableRow);\r\n\r\nfunction Row({turno, ruta, usuario}) {\r\n  const [open, setOpen] = useState(false);\r\n  const classes = useRowStyles();\r\n  const [Turno, setTurno] = useState(turno);\r\n  const [juramento_dias, setjuramento_dias] = useState(false);\r\n\r\n  useEffect(()=>{\r\n    let fecha = new Date(turno.fecha+\" 23:59:59\")\r\n    let fecha_turno = new Date(turno.created_at);\r\n    let dias = parseInt((fecha - fecha_turno)/1000/60/60/24);\r\n    \r\n    setjuramento_dias(dias>2)\r\n  },[])\r\n\r\n  let auth = 'Bearer '+usuario.jwt;\r\n\r\n  function asignarAsistencia(){\r\n    let asis = !Turno.asistencia;\r\n    axios.put(ruta+'/turnos/'+Turno.id,{\r\n      asistencia: asis\r\n    },{headers: {'Authorization': auth}})\r\n    .then(response => {\r\n      console.log(response.data)\r\n      setTurno({\r\n        ...Turno,\r\n        asistencia: !Turno.asistencia\r\n      })\r\n    }).catch(error => {\r\n      console.log(error.response)\r\n    });\r\n  }\r\n\r\n  function asignarDeclaracion(){\r\n    let dec = !Turno.declarado;\r\n    axios.put(ruta+'/turnos/'+Turno.id,{\r\n      declarado: dec\r\n    },{headers: {'Authorization': auth}})\r\n    .then(response => {\r\n      console.log(response.data)\r\n      setTurno({\r\n        ...Turno,\r\n        declarado: !Turno.declarado\r\n      })\r\n    }).catch(error => {\r\n      console.log(error.response)\r\n    });\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <StyledTableRow className={classes.root}>\r\n        <StyledTableCell align=\"left\" component=\"th\" scope=\"row\" onClick={() => setOpen(!open)}>\r\n          <IconButton aria-label=\"expand row\" size=\"small\" >\r\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n          </IconButton>\r\n          {`${Turno.persona.apellido} ${Turno.persona.nombre}`}\r\n        </StyledTableCell>\r\n        <StyledTableCell align=\"center\">{Turno.persona.dni}</StyledTableCell>\r\n        <StyledTableCell align=\"center\">\r\n          <Button size=\"small\" variant=\"contained\" style={{margin:\"5px\",}} color={Turno.asistencia?\"primary\":\"secondary\"} onClick={asignarAsistencia}>{Turno.asistencia?\"Si\":\"No\"}</Button>\r\n          {juramento_dias && <Button size=\"small\" variant=\"contained\" color={Turno.declarado?\"primary\":\"secondary\"} onClick={asignarDeclaracion}>{Turno.declarado?<Si/>:<No/>}</Button>}\r\n        </StyledTableCell>\r\n\r\n      </StyledTableRow>\r\n      <StyledTableRow>\r\n        <StyledTableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n            <Box>\r\n              <Grid container>\r\n                <Grid item lg={3} md={3} sm={12} xs={12} align=\"center\">\r\n                  <Typography variant=\"subtitle1\" gutterBottom component=\"div\">\r\n                    Teléfono: {Turno.persona.telefono!==\"\"?Turno.persona.telefono:\"N/A\"}\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item lg={3} md={3} sm={12} xs={12} align=\"center\">\r\n                  <Typography variant=\"subtitle1\" gutterBottom component=\"div\">\r\n                    {Turno.persona.domicilio?\" Localidad: San Bernardo\":\" Situación: Turista\"}\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item lg={3} md={3} sm={12} xs={12} align=\"center\">\r\n                  <Typography variant=\"subtitle1\" gutterBottom component=\"div\">\r\n                    Área: {Turno.persona.area===0?\"Pileta\":Turno.persona.area===1?\"Camping\":\"Pileta y camping\"}\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item lg={3} md={3} sm={12} xs={12} align=\"center\">\r\n                  <Typography variant=\"subtitle1\" gutterBottom component=\"div\">\r\n                    Fecha de solicitud: {}{Turno.created_at.split(\"T\")[0]}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          </Collapse>\r\n        </StyledTableCell>\r\n      </StyledTableRow>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n\r\nexport default function Listado({ruta,usuario}) {\r\n  const classes = Estilos();\r\n  const [fechaHoy, setfechaHoy] = useState(\"\");\r\n  const [mensaje, setmensaje] = useState(\"\");\r\n  const [esperaDisponible, setesperaDisponible] = useState(false);\r\n  const [turnos, setturnos] = useState([]);\r\n\r\n  useEffect(()=>{\r\n    let date_ = new Date();\r\n    let mes = date_.getMonth() + 1\r\n    if(mes < 10)\r\n        mes = \"0\"+mes\r\n    let dia = date_.getDay()\r\n    if(dia < 10)\r\n        dia = \"0\"+dia\r\n    \r\n    setfechaHoy(date_.getFullYear()+\"-\"+mes+\"-\"+dia)\r\n\r\n    setesperaDisponible(true)\r\n    axios.get(ruta+'/turnos?fecha='+date_.getFullYear()+\"-\"+mes+\"-\"+dia)\r\n    .then(response => {\r\n      let turnos_ordenados = response.data;\r\n      // array temporal contiene objetos con posición y valor de ordenamiento\r\n      var arregloAux = turnos_ordenados.map(function(arreglo, i) {\r\n        return { index: i, value: arreglo.persona.apellido.toLowerCase() };\r\n      })\r\n      // ordenando el array mapeado que contiene los valores reducidos\r\n      arregloAux.sort(function(a, b) {\r\n        if (a.value > b.value) {\r\n          return 1;\r\n        }\r\n        if (a.value < b.value) {\r\n          return -1;\r\n        }\r\n        return 0;\r\n      });\r\n      // contenedor para el orden resultante\r\n      var resultado = arregloAux.map(function(arreglo){\r\n        return turnos_ordenados[arreglo.index];\r\n      });\r\n      setturnos(resultado)\r\n      setesperaDisponible(false)\r\n    }).catch(error => {\r\n        console.log(error.response)\r\n    });\r\n  },[])\r\n\r\n  function seleccionarFecha(e){\r\n    setesperaDisponible(true)\r\n    setfechaHoy(e.target.value)\r\n    if (mensaje!==\"\")\r\n      setmensaje(\"\")\r\n    let _fecha = new Date(e.target.value)\r\n    if (_fecha.getUTCDay()!==1){\r\n        axios.get(ruta+'/turnos?fecha='+e.target.value)\r\n        .then(response => {\r\n            setturnos([])\r\n            let turnos_ordenados = response.data;\r\n            // array temporal contiene objetos con posición y valor de ordenamiento\r\n            var arregloAux = turnos_ordenados.map(function(arreglo, i) {\r\n              return { index: i, value: arreglo.persona.apellido.toLowerCase() };\r\n            })\r\n            // ordenando el array mapeado que contiene los valores reducidos\r\n            arregloAux.sort(function(a, b) {\r\n              if (a.value > b.value) {\r\n                return 1;\r\n              }\r\n              if (a.value < b.value) {\r\n                return -1;\r\n              }\r\n              return 0;\r\n            });\r\n            // contenedor para el orden resultante\r\n            var resultado = arregloAux.map(function(arreglo){\r\n              return turnos_ordenados[arreglo.index];\r\n            });\r\n            setturnos(resultado)\r\n            if (response.data.length===0)\r\n              setmensaje(\"No existen reservas para el día seleccionado.\")\r\n            setesperaDisponible(false)\r\n        }).catch(error => {\r\n            console.log(error.response)\r\n        });\r\n    }else{\r\n        setturnos([])\r\n        setmensaje(\"Los días lunes no se pueden realizar reservas.\")\r\n        setesperaDisponible(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.fondo2} style={{margin:\"auto\"}}>\r\n      <Paper elevation={3} style={{width:\"100%\",margin:\"10px auto\",padding: \"20px\", background:\"lightblue\"}} className=\"Fondo\">\r\n        <Typography variant=\"h3\" component=\"h1\" align=\"center\">\r\n            Administrar turnos\r\n        </Typography>\r\n        <Typography align=\"left\">\r\n            Seleccione una fecha:\r\n        </Typography>\r\n        <input\r\n        className={classes.inputAncho}\r\n        id=\"date\"\r\n        type=\"date\"\r\n        value={fechaHoy}\r\n        onChange={seleccionarFecha}\r\n        style={{boxSizing: \"border-box\", padding:\"0px 15px\", fontSize:\"15px\", background:\"rgba(0,0,0,.1)\", borderRadius:\"5px\",border:\"none\"}}/>\r\n\r\n        {esperaDisponible && <Cargando color=\"secondary\"/>}\r\n        {mensaje===\"\"?(<TableContainer component={Paper} style={{maxWidth:\"1000px\",margin:\"10px auto\", background:\"rgba(0,0,0,0)\"}}>\r\n          <Typography align=\"justify\" style={{fontWeight:\"bold\", padding:\"10px\"}}>\r\n            Declaración Jurada de Síntomas de COVID-19 para personas que hayan solicitado un turno hace más de 72 horas: presione en \"X\" en el caso de que la persona en cuestión haya renovado su declaración jurada y asegure no poseer síntomas de COVID-19 al momento de asistir al complejo.\r\n          </Typography>\r\n\r\n          <Table aria-label=\"collapsible table\" style={{background:\"rgba(0,0,0,.1)\"}}>\r\n            <TableHead>\r\n              <StyledTableRow>\r\n                <StyledTableCell align=\"left\">Apellido y nombre</StyledTableCell>\r\n                <StyledTableCell align=\"center\">DNI</StyledTableCell>\r\n                <StyledTableCell align=\"center\">Asistencia/*Juramento*</StyledTableCell>\r\n              </StyledTableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {turnos.map((turno,i) => (\r\n                <Row key={i} turno={turno} ruta={ruta} usuario={usuario}/>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>):(<Typography variant=\"h4\"><br/>{mensaje}</Typography>)}\r\n      </Paper>\r\n    </div>\r\n   \r\n  );\r\n}","F:\\Piletas\\piletas\\src\\Componentes\\notificacion.js",[],"F:\\Piletas\\piletas\\src\\Componentes\\alerta.js",[],"F:\\Piletas\\piletas\\src\\Componentes\\sesion.js",["96","97","98"],"import React, { useState} from 'react';\r\n//Material UI \r\nimport {Grid, LinearProgress, Typography, TextField, Hidden, Button, Divider, } from '@material-ui/core';\r\n\r\n//Librerias\r\nimport axios from 'axios'\r\n\r\nimport Estilos from '../Estilos.js'\r\nimport {useHistory } from \"react-router-dom\";\r\n\r\n//Componente utilizado para cuando se quiere iniciar sesión\r\nexport default function IniciarSesion({ruta,setusuario}) {\r\n  const classes = Estilos();\r\n  let history = useHistory();\r\n  const [open, setOpen] = useState(false);\r\n  const [cargando, setcargando] = useState(false);\r\n  const [alerta, setalerta] = useState(\"\");\r\n  const [pwd_olvidada, setpwd_olvidada] = useState(false);\r\n\r\n  //Los datos inician vacíos\r\n  const [datos, setdatos] = useState({\r\n    email:\"\",\r\n    contrasena:\"\"\r\n  });\r\n  \r\n  //Ejecutado cada vez que se ingresa algún valor en los campos\r\n  const cambiarInput = (e) =>{\r\n    if (alerta!==\"\")\r\n        setalerta(\"\")\r\n    let valor = e.target.value;\r\n    let campo = e.target.name;\r\n    setdatos({\r\n        ...datos,\r\n        [campo]: valor\r\n    })        \r\n  }\r\n  \r\n  //Función ejecutada al presionar el botón de iniciar sesión\r\n  const iniciarSesion = () =>{\r\n    setcargando(true)\r\n    if (alerta!==\"\")\r\n        setalerta(\"\")\r\n\r\n    if (datos.email===\"\" || datos.contrasena===\"\"){\r\n        setalerta('Faltan rellenar campos');\r\n        setcargando(false)\r\n    }\r\n    axios\r\n    .post(ruta+\"/auth/local/\", {\r\n    identifier: datos.email,\r\n    password: datos.contrasena\r\n    })\r\n    .then(response => {\r\n        console.log(response.data)\r\n        setusuario(response.data)\r\n\r\n        localStorage.setItem('datosLocal', JSON.stringify({\r\n            jwt: response.data.jwt,\r\n            datosSesion: response.data.user\r\n        }));\r\n        \r\n        setcargando(false)\r\n        setOpen(false)\r\n\r\n        history.push(\"/listar\")\r\n    })\r\n    .catch(error => {\r\n    // Ocurrió un error\r\n    let err = JSON.parse(error.response.request.response).message[0].messages[0].id;\r\n    console.log(\"Error: \",err)\r\n    if(err===\"Auth.form.error.invalid\")\r\n        setalerta('Usuario/correo o contraseña incorrectos'); \r\n    setcargando(false)\r\n    });    \r\n  }\r\n\r\n  return (\r\n    <div className={classes.fondo2} style={{margin:\"auto\"}}>\r\n        <div className=\"Fondo\"  style={{maxWidth:300}}>\r\n            <Grid  container direction=\"row\" justify=\"center\"  spacing={2}>\r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"h5\" component=\"h1\" align=\"center\" className={classes.form}>\r\n                      Iniciar Sesión\r\n                    </Typography>\r\n                </Grid>\r\n\r\n                <Grid item xs={12}>\r\n                <TextField\r\n                    onChange={cambiarInput}\r\n                    name=\"email\"\r\n                    value={datos.email}\r\n                    className={classes.inputAncho}\r\n                    id=\"filled-basic\"\r\n                    label=\"Usuario/Correo electrónico\"\r\n                    variant=\"filled\"\r\n                    required\r\n                />\r\n                </Grid>\r\n                <Divider/>\r\n                \r\n                <Grid item xs={12}>\r\n                    <TextField\r\n                    onChange={cambiarInput}\r\n                    name=\"contrasena\"\r\n                    value={datos.contrasena}\r\n                    required\r\n                    type=\"password\"\r\n                    label=\"Contraseña\"\r\n                    variant=\"filled\"\r\n                    style={{marginTop:\"15px\"}}\r\n                    className={classes.inputAncho}\r\n                    />\r\n                </Grid>\r\n                \r\n                <div className={classes.inputAncho} hidden={!cargando}>\r\n                    <LinearProgress color=\"secondary\"/>\r\n                </div>\r\n\r\n                <Hidden xlDown={alerta===\"\"}>\r\n                    <Typography color=\"error\">\r\n                        {alerta}\r\n                    </Typography>\r\n                </Hidden>\r\n\r\n                <Grid item xs={12} align=\"center\">\r\n                    <Button\r\n                        onClick={iniciarSesion}\r\n                        size=\"large\"\r\n                        variant=\"contained\"\r\n                        color=\"secondary\">\r\n                        Iniciar Sesión\r\n                    </Button>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    </div>\r\n  );\r\n}","F:\\Piletas\\piletas\\src\\Componentes\\nav.js",["99","100","101"],"import React, { useState} from 'react';\r\nimport {useHistory, Link} from \"react-router-dom\";\r\n//Material UI \r\nimport { AppBar, Toolbar, Typography, Button, Hidden} from '@material-ui/core';\r\nimport Estilos from '../Estilos.js'\r\nimport Salir from '@material-ui/icons/ExitToApp';\r\n\r\n//Componente utilizado para cuando se quiere iniciar sesión\r\nexport default function Nav({setusuario,usuario}) {\r\n  const classes = Estilos();\r\n  let history = useHistory();\r\n\r\n  const cerrarSesion = () => {\r\n    localStorage.setItem('datosLocal', JSON.stringify(null));\r\n    setusuario({jwt:\"\",datosSesion:{}})\r\n    if (history!==undefined)\r\n      history.push(\"/\")\r\n  };\r\n\r\n  return (\r\n    <AppBar position=\"static\" style={{backgroundColor:\"#00CC66\"}}>\r\n        <Toolbar>\r\n            \r\n          <Link to={\"/\"} style={{textDecoration:\"none\",color:\"#393939\",fontFamily: \"Homework\", padding:\"0px 10px\"}}>\r\n              <img src=\"municipalidad_logo.png\" width=\"76px\"></img>\r\n          </Link>\r\n            \r\n          <Link to={\"/\"} style={{textDecoration:\"none\",color:\"#393939\",fontFamily: \"Homework\",}}>\r\n              <Typography variant=\"h5\">\r\n                  Complejo deportivo\r\n              </Typography>\r\n          </Link>\r\n          \r\n          {usuario.jwt!==\"\" && <Button startIcon={<Salir/>} variant=\"contained\" onClick={cerrarSesion} style={{marginLeft: \"auto\"}}>\r\n              <Hidden smDown>\r\n                Cerrar Sesion\r\n              </Hidden>\r\n          </Button>}\r\n        </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n\r\n","F:\\Piletas\\piletas\\src\\Componentes\\Formulario.js",["102","103","104"],"F:\\Piletas\\piletas\\src\\Componentes\\Listado.js",["105","106","107"],"F:\\Piletas\\piletas\\src\\Componentes\\Sesion.js",[],"F:\\Piletas\\piletas\\src\\Componentes\\Nav.js",[],"F:\\Piletas\\piletas\\src\\Componentes\\Alerta.js",[],"F:\\Piletas\\piletas\\src\\Componentes\\Notificacion.js",[],"F:\\Piletas\\piletas\\src\\Componentes\\Deporte.js",["108","109","110","111","112","113","114","115","116","117"],"F:\\Piletas\\piletas\\src\\Componentes\\ListadoDeporte.js",["118","119"],"import React,{useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {Link} from \"react-router-dom\";\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\nimport {Box, Collapse, IconButton, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Button, Typography, Paper, Grid } from '@material-ui/core';\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport Estilos from '../Estilos.js';\r\n\r\nconst useRowStyles = makeStyles({\r\n  root: {    '& > *': {\r\n      borderBottom: 'unset',\r\n      padding:\"5px\",\r\n    },\r\n  },\r\n});\r\n\r\nconst StyledTableCell = withStyles((theme) => ({\r\n  head: {\r\n    backgroundColor: theme.palette.common.black,\r\n    color: theme.palette.common.white,\r\n  },\r\n  body: {\r\n    fontSize: 14,\r\n  },\r\n}))(TableCell);\r\n\r\nconst StyledTableRow = withStyles((theme) => ({\r\n  root: {\r\n    '&:nth-of-type(odd)': {\r\n      backgroundColor: theme.palette.action.hover,\r\n    },\r\n  },\r\n}))(TableRow);\r\n\r\nfunction Row({turno, ruta, usuario}) {\r\n  const [open, setOpen] = useState(false);\r\n  const classes = useRowStyles();\r\n  const [Turno, setTurno] = useState(turno);\r\n\r\n  let auth = 'Bearer '+usuario.jwt;\r\n\r\n  function asignarAsistencia(){\r\n    let asis = !Turno.asistencia;\r\n    axios.put(ruta+'/turnos/'+Turno.id,{\r\n      asistencia: asis\r\n    },{headers: {'Authorization': auth}})\r\n    .then(response => {\r\n      setTurno({\r\n        ...Turno,\r\n        asistencia: !Turno.asistencia\r\n      })\r\n    }).catch(error => {\r\n      console.log(error.response)\r\n    });\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <StyledTableRow className={classes.root}>\r\n        <StyledTableCell align=\"left\" component=\"th\" scope=\"row\" onClick={() => setOpen(!open)}>\r\n          <IconButton aria-label=\"expand row\" size=\"small\" >\r\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n          </IconButton>\r\n          {Turno.nombre_equipo}\r\n        </StyledTableCell>\r\n        <StyledTableCell align=\"center\">{Turno.tipo===0?\"Fútbol\":(Turno.tipo===1?\"Voley\":\"Básquet\")}</StyledTableCell>\r\n        <StyledTableCell align=\"center\">{Turno.horario===0?\"De 20 a 21 hs\":(Turno.horario===1?\"De 21 a 22 hs\":\"De 22 a 23 hs\")}</StyledTableCell>\r\n\r\n      </StyledTableRow>\r\n      <StyledTableRow>\r\n        <StyledTableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n            <Box>\r\n                {Turno.personas.map((persona,i) => (\r\n                    <Grid key={i} container>\r\n                        <Grid item lg={6} md={6} sm={12} xs={12} align=\"center\">\r\n                            <Typography variant=\"subtitle1\" gutterBottom component=\"div\">\r\n                                Apellido y nombre: {`${persona.apellido} ${persona.nombre}`}\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item lg={3} md={3} sm={12} xs={12} align=\"center\">\r\n                            <Typography variant=\"subtitle1\" gutterBottom component=\"div\">\r\n                                DNI: {persona.dni}\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item lg={3} md={3} sm={12} xs={12} align=\"center\">\r\n                            <Typography variant=\"subtitle1\" gutterBottom component=\"div\">\r\n                                Teléfono: {persona.telefono!==\"\"?persona.telefono:\"N/A\"}\r\n                            </Typography>\r\n                        </Grid>\r\n                        {persona.domicilio &&\r\n                            <Grid item lg={12} md={12} sm={12} xs={12} align=\"center\">\r\n                                <Typography variant=\"subtitle1\" gutterBottom component=\"div\">\r\n                                Datos de la persona con la que se aloja:\r\n                                </Typography>\r\n                            </Grid>}\r\n                        {persona.domicilio &&\r\n                            <Grid item lg={4} md={4} sm={12} xs={12} align=\"center\">\r\n                                <Typography variant=\"subtitle1\" gutterBottom component=\"div\">\r\n                                DNI: {persona.dni_alojado}\r\n                                </Typography>\r\n                            </Grid>}\r\n                        {persona.domicilio &&\r\n                            <Grid item lg={4} md={4} sm={12} xs={12} align=\"center\">\r\n                                <Typography variant=\"subtitle1\" gutterBottom component=\"div\">\r\n                                Apellido y Nombre: {`${persona.apellido_alojado} ${persona.nombre_alojado}`}\r\n                                </Typography>\r\n                            </Grid>}\r\n                        {persona.domicilio &&\r\n                            <Grid item lg={4} md={4} sm={12} xs={12} align=\"center\">\r\n                                <Typography variant=\"subtitle1\" gutterBottom component=\"div\">\r\n                                Domicilio: {persona.domicilio_alojado}\r\n                                </Typography>\r\n                            </Grid>}\r\n                        <Grid item lg={12} md={12} sm={12} xs={12} align=\"center\">\r\n                            <hr/>\r\n                        </Grid>\r\n                    </Grid>\r\n                ))}\r\n            </Box>\r\n          </Collapse>\r\n        </StyledTableCell>\r\n      </StyledTableRow>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n\r\nexport default function Listado({ruta,usuario}) {\r\n  const classes = Estilos();\r\n  const [fechaHoy, setfechaHoy] = useState(\"\");\r\n  const [mensaje, setmensaje] = useState(\"\");\r\n  const [esperaDisponible, setesperaDisponible] = useState(false);\r\n  const [deportes, setdeportes] = useState([]);\r\n\r\n  useEffect(()=>{\r\n    let date_ = new Date();\r\n    let mes = date_.getMonth() + 1\r\n    if(mes < 10)\r\n        mes = \"0\"+mes\r\n    let dia = date_.getDate()\r\n    if(dia < 10)\r\n        dia = \"0\"+dia\r\n    \r\n    setfechaHoy(date_.getFullYear()+\"-\"+mes+\"-\"+dia)\r\n\r\n    setesperaDisponible(true)\r\n    axios.get(ruta+'/deportes?fecha='+date_.getFullYear()+\"-\"+mes+\"-\"+dia)\r\n    .then(response => {\r\n        setdeportes([])\r\n        setdeportes(response.data)\r\n        setesperaDisponible(false)\r\n    }).catch(error => {\r\n        console.log(error.response)\r\n    });\r\n  },[])\r\n\r\n  function seleccionarFecha(e){\r\n    setesperaDisponible(true)\r\n    setfechaHoy(e.target.value)\r\n    if (mensaje!==\"\")\r\n      setmensaje(\"\")\r\n    let _fecha = new Date(e.target.value)\r\n    if (_fecha.getUTCDay()!==1){\r\n        axios.get(ruta+'/deportes?fecha='+e.target.value)\r\n        .then(response => {\r\n            setdeportes([])\r\n            setdeportes(response.data)\r\n            if (response.data.length===0)\r\n              setmensaje(\"No existen reservas para el día seleccionado.\")\r\n            setesperaDisponible(false)\r\n        }).catch(error => {\r\n            console.log(error.response)\r\n        });\r\n    }else{\r\n        setdeportes([])\r\n        setmensaje(\"Los días lunes no se pueden realizar reservas.\")\r\n        setesperaDisponible(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.fondo2} style={{margin:\"auto\"}}>\r\n      <Paper elevation={3} style={{width:\"100%\",margin:\"10px auto\",padding: \"20px\", background:\"lightblue\"}} className=\"Fondo\">\r\n        <Typography variant=\"h3\" component=\"h1\" align=\"center\">\r\n            Administrar turnos de canchas deportivas\r\n        </Typography>\r\n        <Grid container>\r\n          <Grid item lg={3} md={3} sm={4} xs={4} align=\"left\">\r\n            <Typography variant=\"subtitle1\" gutterBottom component=\"div\">\r\n              Seleccione una fecha:\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item lg={9} md={9} sm={8} xs={8} align=\"right\">\r\n            <Link to={\"/listar/\"} style={{textDecoration:\"none\", padding: 0, color:\"black\"}}>\r\n              <Button align=\"right\" color=\"primary\" style={{marginLeft: \"auto\"}}>\r\n                Listado de turnos de pileta\r\n              </Button>\r\n            </Link>\r\n          </Grid>\r\n        </Grid>\r\n        <input\r\n        className={classes.inputAncho}\r\n        id=\"date\"\r\n        type=\"date\"\r\n        value={fechaHoy}\r\n        onChange={seleccionarFecha}\r\n        style={{boxSizing: \"border-box\", padding:\"0px 15px\", fontSize:\"15px\", background:\"rgba(0,0,0,.1)\", borderRadius:\"5px\",border:\"none\"}}/>\r\n\r\n        {esperaDisponible && <Cargando color=\"secondary\"/>}\r\n        {mensaje===\"\"?(<TableContainer component={Paper} style={{maxWidth:\"1000px\",margin:\"10px auto\", background:\"rgba(0,0,0,0)\"}}>\r\n\r\n          <Table aria-label=\"collapsible table\" style={{background:\"rgba(0,0,0,.1)\"}}>\r\n            <TableHead>\r\n              <StyledTableRow>\r\n                <StyledTableCell align=\"left\">Nombre del Equipo</StyledTableCell>\r\n                <StyledTableCell align=\"center\">Deporte</StyledTableCell>\r\n                <StyledTableCell align=\"center\">Horario</StyledTableCell>\r\n              </StyledTableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {deportes.map((turno,i) => (\r\n                <Row key={i} turno={turno} ruta={ruta} usuario={usuario}/>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>):(<Typography variant=\"h4\"><br/>{mensaje}</Typography>)}\r\n      </Paper>\r\n    </div>\r\n   \r\n  );\r\n}",{"ruleId":"120","replacedBy":"121"},{"ruleId":"122","replacedBy":"123"},{"ruleId":"124","severity":1,"message":"125","line":13,"column":9,"nodeType":"126","messageId":"127","endLine":13,"endColumn":19},{"ruleId":"124","severity":1,"message":"128","line":53,"column":20,"nodeType":"126","messageId":"127","endLine":53,"endColumn":29},{"ruleId":"124","severity":1,"message":"129","line":102,"column":22,"nodeType":"126","messageId":"127","endLine":102,"endColumn":33},{"ruleId":"130","severity":1,"message":"131","line":161,"column":7,"nodeType":"132","endLine":161,"endColumn":9,"suggestions":"133"},{"ruleId":"130","severity":1,"message":"134","line":166,"column":7,"nodeType":"132","endLine":166,"endColumn":16,"suggestions":"135"},{"ruleId":"136","severity":1,"message":"137","line":289,"column":84,"nodeType":"138","messageId":"139","endLine":289,"endColumn":85},{"ruleId":"136","severity":1,"message":"137","line":289,"column":108,"nodeType":"138","messageId":"139","endLine":289,"endColumn":109},{"ruleId":"124","severity":1,"message":"140","line":334,"column":14,"nodeType":"126","messageId":"127","endLine":334,"endColumn":15},{"ruleId":"141","severity":1,"message":"142","line":535,"column":33,"nodeType":"143","endLine":535,"endColumn":70},{"ruleId":"120","replacedBy":"144"},{"ruleId":"122","replacedBy":"145"},{"ruleId":"130","severity":1,"message":"146","line":49,"column":5,"nodeType":"132","endLine":49,"endColumn":7,"suggestions":"147"},{"ruleId":"130","severity":1,"message":"148","line":181,"column":5,"nodeType":"132","endLine":181,"endColumn":7,"suggestions":"149"},{"ruleId":"124","severity":1,"message":"150","line":15,"column":10,"nodeType":"126","messageId":"127","endLine":15,"endColumn":14},{"ruleId":"124","severity":1,"message":"151","line":18,"column":10,"nodeType":"126","messageId":"127","endLine":18,"endColumn":22},{"ruleId":"124","severity":1,"message":"152","line":18,"column":24,"nodeType":"126","messageId":"127","endLine":18,"endColumn":39},{"ruleId":"124","severity":1,"message":"153","line":1,"column":17,"nodeType":"126","messageId":"127","endLine":1,"endColumn":25},{"ruleId":"124","severity":1,"message":"154","line":10,"column":9,"nodeType":"126","messageId":"127","endLine":10,"endColumn":16},{"ruleId":"141","severity":1,"message":"142","line":25,"column":15,"nodeType":"143","endLine":25,"endColumn":62},{"ruleId":"124","severity":1,"message":"128","line":57,"column":20,"nodeType":"126","messageId":"127","endLine":57,"endColumn":29},{"ruleId":"124","severity":1,"message":"155","line":109,"column":21,"nodeType":"126","messageId":"127","endLine":109,"endColumn":31},{"ruleId":"130","severity":1,"message":"131","line":177,"column":7,"nodeType":"132","endLine":177,"endColumn":9,"suggestions":"156"},{"ruleId":"130","severity":1,"message":"146","line":50,"column":5,"nodeType":"132","endLine":50,"endColumn":7,"suggestions":"157"},{"ruleId":"124","severity":1,"message":"158","line":177,"column":16,"nodeType":"126","messageId":"127","endLine":177,"endColumn":23},{"ruleId":"130","severity":1,"message":"148","line":224,"column":5,"nodeType":"132","endLine":224,"endColumn":14,"suggestions":"159"},{"ruleId":"124","severity":1,"message":"128","line":55,"column":20,"nodeType":"126","messageId":"127","endLine":55,"endColumn":29},{"ruleId":"124","severity":1,"message":"160","line":106,"column":12,"nodeType":"126","messageId":"127","endLine":106,"endColumn":21},{"ruleId":"124","severity":1,"message":"161","line":106,"column":23,"nodeType":"126","messageId":"127","endLine":106,"endColumn":35},{"ruleId":"124","severity":1,"message":"155","line":108,"column":21,"nodeType":"126","messageId":"127","endLine":108,"endColumn":31},{"ruleId":"124","severity":1,"message":"162","line":118,"column":12,"nodeType":"126","messageId":"127","endLine":118,"endColumn":26},{"ruleId":"124","severity":1,"message":"163","line":118,"column":28,"nodeType":"126","messageId":"127","endLine":118,"endColumn":45},{"ruleId":"124","severity":1,"message":"164","line":120,"column":24,"nodeType":"126","messageId":"127","endLine":120,"endColumn":37},{"ruleId":"124","severity":1,"message":"165","line":138,"column":21,"nodeType":"126","messageId":"127","endLine":138,"endColumn":31},{"ruleId":"136","severity":1,"message":"137","line":177,"column":68,"nodeType":"138","messageId":"139","endLine":177,"endColumn":69},{"ruleId":"130","severity":1,"message":"166","line":184,"column":7,"nodeType":"132","endLine":184,"endColumn":9,"suggestions":"167"},{"ruleId":"124","severity":1,"message":"168","line":44,"column":12,"nodeType":"126","messageId":"127","endLine":44,"endColumn":29},{"ruleId":"130","severity":1,"message":"148","line":158,"column":5,"nodeType":"132","endLine":158,"endColumn":7,"suggestions":"169"},"no-native-reassign",["170"],"no-negated-in-lhs",["171"],"no-unused-vars","'HashRouter' is defined but never used.","Identifier","unusedVar","'setnoEsta' is assigned a value but never used.","'setcargando' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'ruta' and 'turno'. Either include them or remove the dependency array. You can also do a functional update 'setturno(t => ...)' if you only need 'turno' in the 'setturno' call.","ArrayExpression",["172"],"React Hook useEffect has a missing dependency: 'alertaDNI'. Either include it or remove the dependency array.",["173"],"no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","'x' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement",["170"],["171"],"React Hook useEffect has missing dependencies: 'turno.created_at' and 'turno.fecha'. Either include them or remove the dependency array.",["174"],"React Hook useEffect has a missing dependency: 'ruta'. Either include it or remove the dependency array.",["175"],"'open' is assigned a value but never used.","'pwd_olvidada' is assigned a value but never used.","'setpwd_olvidada' is assigned a value but never used.","'useState' is defined but never used.","'classes' is assigned a value but never used.","'setmensaje' is assigned a value but never used.",["176"],["177"],"'setauth' is assigned a value but never used.",["178"],"'alertaDNI' is assigned a value but never used.","'setalertaDNI' is assigned a value but never used.","'deporteACargar' is assigned a value but never used.","'setdeporteACargar' is assigned a value but never used.","'setnoGuardado' is assigned a value but never used.","'setjugador' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'deporte' and 'ruta'. Either include them or remove the dependency array. You can also do a functional update 'setdeporte(d => ...)' if you only need 'deporte' in the 'setdeporte' call.",["179"],"'asignarAsistencia' is defined but never used.",["180"],"no-global-assign","no-unsafe-negation",{"desc":"181","fix":"182"},{"desc":"183","fix":"184"},{"desc":"185","fix":"186"},{"desc":"187","fix":"188"},{"desc":"181","fix":"189"},{"desc":"185","fix":"190"},{"desc":"191","fix":"192"},{"desc":"193","fix":"194"},{"desc":"187","fix":"195"},"Update the dependencies array to be: [ruta, turno]",{"range":"196","text":"197"},"Update the dependencies array to be: [alertaDNI, tildado]",{"range":"198","text":"199"},"Update the dependencies array to be: [turno.created_at, turno.fecha]",{"range":"200","text":"201"},"Update the dependencies array to be: [ruta]",{"range":"202","text":"203"},{"range":"204","text":"197"},{"range":"205","text":"201"},"Update the dependencies array to be: [ruta, usuario]",{"range":"206","text":"207"},"Update the dependencies array to be: [deporte, ruta]",{"range":"208","text":"209"},{"range":"210","text":"203"},[7316,7318],"[ruta, turno]",[7407,7416],"[alertaDNI, tildado]",[1589,1591],"[turno.created_at, turno.fecha]",[6547,6549],"[ruta]",[8298,8300],[1649,1651],[8492,8501],"[ruta, usuario]",[7618,7620],"[deporte, ruta]",[6410,6412]]