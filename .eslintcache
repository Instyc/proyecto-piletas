[{"F:\\Piletas\\piletas\\src\\index.js":"1","F:\\Piletas\\piletas\\src\\App.js":"2","F:\\Piletas\\piletas\\src\\reportWebVitals.js":"3","F:\\Piletas\\piletas\\src\\Estilos.js":"4","F:\\Piletas\\piletas\\src\\Componentes\\formulario.js":"5","F:\\Piletas\\piletas\\src\\Componentes\\listado.js":"6","F:\\Piletas\\piletas\\src\\Componentes\\notificacion.js":"7","F:\\Piletas\\piletas\\src\\Componentes\\alerta.js":"8","F:\\Piletas\\piletas\\src\\Componentes\\sesion.js":"9","F:\\Piletas\\piletas\\src\\Componentes\\nav.js":"10"},{"size":514,"mtime":1612218146755,"results":"11","hashOfConfig":"12"},{"size":4183,"mtime":1612564435929,"results":"13","hashOfConfig":"12"},{"size":362,"mtime":1611795282164,"results":"14","hashOfConfig":"12"},{"size":3510,"mtime":1612402448823,"results":"15","hashOfConfig":"12"},{"size":27442,"mtime":1612560914120,"results":"16","hashOfConfig":"12"},{"size":10259,"mtime":1612562552944,"results":"17","hashOfConfig":"12"},{"size":1063,"mtime":1612412673826,"results":"18","hashOfConfig":"12"},{"size":896,"mtime":1612396451807,"results":"19","hashOfConfig":"12"},{"size":4393,"mtime":1612417832427,"results":"20","hashOfConfig":"12"},{"size":1517,"mtime":1612562951278,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"z21pu",{"filePath":"25","messages":"26","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"33","messages":"34","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"24"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"F:\\Piletas\\piletas\\src\\index.js",[],["44","45"],"F:\\Piletas\\piletas\\src\\App.js",["46","47","48"],"F:\\Piletas\\piletas\\src\\reportWebVitals.js",[],"F:\\Piletas\\piletas\\src\\Estilos.js",[],"F:\\Piletas\\piletas\\src\\Componentes\\formulario.js",["49","50","51","52","53","54","55"],"F:\\Piletas\\piletas\\src\\Componentes\\listado.js",["56","57"],"F:\\Piletas\\piletas\\src\\Componentes\\notificacion.js",[],"F:\\Piletas\\piletas\\src\\Componentes\\alerta.js",[],"F:\\Piletas\\piletas\\src\\Componentes\\sesion.js",["58","59","60"],"import React, { useState} from 'react';\r\n//Material UI \r\nimport {Grid, LinearProgress, Typography, TextField, Hidden, Button, Divider, } from '@material-ui/core';\r\n\r\n//Librerias\r\nimport axios from 'axios'\r\n\r\nimport Estilos from '../Estilos.js'\r\nimport {useHistory } from \"react-router-dom\";\r\n\r\n//Componente utilizado para cuando se quiere iniciar sesión\r\nexport default function IniciarSesion({ruta,setusuario}) {\r\n  const classes = Estilos();\r\n  let history = useHistory();\r\n  const [open, setOpen] = useState(false);\r\n  const [cargando, setcargando] = useState(false);\r\n  const [alerta, setalerta] = useState(\"\");\r\n  const [pwd_olvidada, setpwd_olvidada] = useState(false);\r\n\r\n  //Los datos inician vacíos\r\n  const [datos, setdatos] = useState({\r\n    email:\"\",\r\n    contrasena:\"\"\r\n  });\r\n  \r\n  //Ejecutado cada vez que se ingresa algún valor en los campos\r\n  const cambiarInput = (e) =>{\r\n    if (alerta!==\"\")\r\n        setalerta(\"\")\r\n    let valor = e.target.value;\r\n    let campo = e.target.name;\r\n    setdatos({\r\n        ...datos,\r\n        [campo]: valor\r\n    })        \r\n  }\r\n  \r\n  //Función ejecutada al presionar el botón de iniciar sesión\r\n  const iniciarSesion = () =>{\r\n    setcargando(true)\r\n    if (alerta!==\"\")\r\n        setalerta(\"\")\r\n\r\n    if (datos.email===\"\" || datos.contrasena===\"\"){\r\n        setalerta('Faltan rellenar campos');\r\n        setcargando(false)\r\n    }\r\n    axios\r\n    .post(ruta+\"/auth/local/\", {\r\n    identifier: datos.email,\r\n    password: datos.contrasena\r\n    })\r\n    .then(response => {\r\n        console.log(response.data)\r\n        setusuario(response.data)\r\n\r\n        localStorage.setItem('datosLocal', JSON.stringify({\r\n            jwt: response.data.jwt,\r\n            datosSesion: response.data.user\r\n        }));\r\n        \r\n        setcargando(false)\r\n        setOpen(false)\r\n\r\n        history.push(\"/listar\")\r\n    })\r\n    .catch(error => {\r\n    // Ocurrió un error\r\n    let err = JSON.parse(error.response.request.response).message[0].messages[0].id;\r\n    console.log(\"Error: \",err)\r\n    if(err===\"Auth.form.error.invalid\")\r\n        setalerta('Usuario/correo o contraseña incorrectos'); \r\n    setcargando(false)\r\n    });    \r\n  }\r\n\r\n  return (\r\n    <div className={classes.fondo2} style={{margin:\"auto\"}}>\r\n        <div className=\"Fondo\"  style={{maxWidth:300}}>\r\n            <Grid  container direction=\"row\" justify=\"center\"  spacing={2}>\r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"h5\" component=\"h1\" align=\"center\" className={classes.form}>\r\n                      Iniciar Sesión\r\n                    </Typography>\r\n                </Grid>\r\n\r\n                <Grid item xs={12}>\r\n                <TextField\r\n                    onChange={cambiarInput}\r\n                    name=\"email\"\r\n                    value={datos.email}\r\n                    className={classes.inputAncho}\r\n                    id=\"filled-basic\"\r\n                    label=\"Usuario/Correo electrónico\"\r\n                    variant=\"filled\"\r\n                    required\r\n                />\r\n                </Grid>\r\n                <Divider/>\r\n                \r\n                <Grid item xs={12}>\r\n                    <TextField\r\n                    onChange={cambiarInput}\r\n                    name=\"contrasena\"\r\n                    value={datos.contrasena}\r\n                    required\r\n                    type=\"password\"\r\n                    label=\"Contraseña\"\r\n                    variant=\"filled\"\r\n                    style={{marginTop:\"15px\"}}\r\n                    className={classes.inputAncho}\r\n                    />\r\n                </Grid>\r\n                \r\n                <div className={classes.inputAncho} hidden={!cargando}>\r\n                    <LinearProgress color=\"secondary\"/>\r\n                </div>\r\n\r\n                <Hidden xlDown={alerta===\"\"}>\r\n                    <Typography color=\"error\">\r\n                        {alerta}\r\n                    </Typography>\r\n                </Hidden>\r\n\r\n                <Grid item xs={12} align=\"center\">\r\n                    <Button\r\n                        onClick={iniciarSesion}\r\n                        size=\"large\"\r\n                        variant=\"contained\"\r\n                        color=\"secondary\">\r\n                        Iniciar Sesión\r\n                    </Button>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    </div>\r\n  );\r\n}","F:\\Piletas\\piletas\\src\\Componentes\\nav.js",["61","62","63"],{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","replacedBy":"67"},{"ruleId":"68","severity":1,"message":"69","line":11,"column":9,"nodeType":"70","messageId":"71","endLine":11,"endColumn":19},{"ruleId":"72","severity":1,"message":"73","line":67,"column":15,"nodeType":"74","endLine":67,"endColumn":34},{"ruleId":"72","severity":1,"message":"73","line":77,"column":17,"nodeType":"74","endLine":77,"endColumn":54},{"ruleId":"68","severity":1,"message":"75","line":53,"column":20,"nodeType":"70","messageId":"71","endLine":53,"endColumn":29},{"ruleId":"68","severity":1,"message":"76","line":102,"column":22,"nodeType":"70","messageId":"71","endLine":102,"endColumn":33},{"ruleId":"77","severity":1,"message":"78","line":161,"column":7,"nodeType":"79","endLine":161,"endColumn":9,"suggestions":"80"},{"ruleId":"77","severity":1,"message":"81","line":166,"column":7,"nodeType":"79","endLine":166,"endColumn":16,"suggestions":"82"},{"ruleId":"83","severity":1,"message":"84","line":286,"column":84,"nodeType":"85","messageId":"86","endLine":286,"endColumn":85},{"ruleId":"68","severity":1,"message":"87","line":329,"column":14,"nodeType":"70","messageId":"71","endLine":329,"endColumn":15},{"ruleId":"72","severity":1,"message":"73","line":530,"column":33,"nodeType":"74","endLine":530,"endColumn":70},{"ruleId":"77","severity":1,"message":"88","line":49,"column":5,"nodeType":"79","endLine":49,"endColumn":7,"suggestions":"89"},{"ruleId":"77","severity":1,"message":"90","line":181,"column":5,"nodeType":"79","endLine":181,"endColumn":7,"suggestions":"91"},{"ruleId":"68","severity":1,"message":"92","line":15,"column":10,"nodeType":"70","messageId":"71","endLine":15,"endColumn":14},{"ruleId":"68","severity":1,"message":"93","line":18,"column":10,"nodeType":"70","messageId":"71","endLine":18,"endColumn":22},{"ruleId":"68","severity":1,"message":"94","line":18,"column":24,"nodeType":"70","messageId":"71","endLine":18,"endColumn":39},{"ruleId":"68","severity":1,"message":"95","line":1,"column":17,"nodeType":"70","messageId":"71","endLine":1,"endColumn":25},{"ruleId":"68","severity":1,"message":"96","line":10,"column":9,"nodeType":"70","messageId":"71","endLine":10,"endColumn":16},{"ruleId":"72","severity":1,"message":"73","line":25,"column":15,"nodeType":"74","endLine":25,"endColumn":62},"no-native-reassign",["97"],"no-negated-in-lhs",["98"],"no-unused-vars","'HashRouter' is defined but never used.","Identifier","unusedVar","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'setnoEsta' is assigned a value but never used.","'setcargando' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'ruta' and 'turno'. Either include them or remove the dependency array. You can also do a functional update 'setturno(t => ...)' if you only need 'turno' in the 'setturno' call.","ArrayExpression",["99"],"React Hook useEffect has a missing dependency: 'alertaDNI'. Either include it or remove the dependency array.",["100"],"no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","'x' is defined but never used.","React Hook useEffect has missing dependencies: 'turno.created_at' and 'turno.fecha'. Either include them or remove the dependency array.",["101"],"React Hook useEffect has a missing dependency: 'ruta'. Either include it or remove the dependency array.",["102"],"'open' is assigned a value but never used.","'pwd_olvidada' is assigned a value but never used.","'setpwd_olvidada' is assigned a value but never used.","'useState' is defined but never used.","'classes' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"103","fix":"104"},{"desc":"105","fix":"106"},{"desc":"107","fix":"108"},{"desc":"109","fix":"110"},"Update the dependencies array to be: [ruta, turno]",{"range":"111","text":"112"},"Update the dependencies array to be: [alertaDNI, tildado]",{"range":"113","text":"114"},"Update the dependencies array to be: [turno.created_at, turno.fecha]",{"range":"115","text":"116"},"Update the dependencies array to be: [ruta]",{"range":"117","text":"118"},[7316,7318],"[ruta, turno]",[7407,7416],"[alertaDNI, tildado]",[1589,1591],"[turno.created_at, turno.fecha]",[6547,6549],"[ruta]"]